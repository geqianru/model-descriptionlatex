\documentclass[preprint,12pt]{elsarticle}
\usepackage{setspace}
\onehalfspacing
\usepackage{fullpage}
\usepackage{booktabs,multirow} % for adding brackets in tables
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage[english]{babel}
\usepackage{longtable}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{latexsym}
\usepackage{morefloats}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{rotating}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\usepackage[nodots]{numcompress}
\usepackage{booktabs}
\usepackage{epstopdf}
\usepackage{booktabs,caption,fixltx2e}
\usepackage[flushleft]{threeparttable}
\DeclareMathOperator*{\argmin}{\arg\!\min}
\DeclareGraphicsExtensions{.pdf,.eps}
%\DeclarePairedDelimiter
\usepackage[toc,page]{appendix}
\usepackage{natbib}
\begin{document}
\nocite{*}

\begin{frontmatter}
\title{Reliability Optimization for series systems under uncertain component reliability in the design phase}
\author[label1]{Qianru Ge}
\author[label1]{Hao Peng}
\author[label1]{Geert-Jan van Houtum}
\author[label1]{Ivo Adan}
\address[label1]{Department of Industrial Engineering and Innovation Sciences, Eindhoven University of Technology, Eindhoven, The Netherlands}

\begin{abstract}
%We consider an OEM who sells a series system for a customer under a Performance-Based Logistic (PBL) contract. During the design phase of the system, the OEM have to select an optimal design for each critical component in the system from all the possible alternatives with uncertain component reliability. The uncertainty  in component reliabilities can lead to large deviations of the realized system availability from the expected system availability. Upon a failure of a critical component in the system, the failed part will be replaced by a as-good-as new component. According to the PBL contract, when the total system down time exceeds a predetermined level, the OEM should pay a penalty cost to the customer with respect to the actual total downtime and a penalty rate. In this case, we formulate the Life Cycle Costs (LCC) of this multi-stage system which are affected by the uncertain component reliability. The LCC consist of design costs, repair costs and downtime costs.
\end{abstract}

\begin{keyword}
Capital goods \sep Reliability optimization  \sep Performance-based contracting \sep Life cycle costs
\end{keyword}
\end{frontmatter}
\section{Introduction}

%%%%%%%% the first graph give the main context of the paper
Capital goods are machines or products that are used by manufacturers to produce their end-products or that are used by service organizations to deliver their services. Advanced technical systems such as medical systems, manufacturing systems, defense systems are examples of capital goods that are critical for the operational processes of their customers. System downtime of these capital goods can have serious consequences (e.g., millions of euros of reduced production output, extra waiting time of passengers, failure of military missions) and maintaining and repairing these high-tech systems are too challenging for customers to take care of by themselves. As a result, the Original Equipment Manufactures (OEMs) provide after sale service to their customer to keep the availability of the system on certain levels through service contracts. Different types of service contracts are mentioned in \citet{Cohen2006}, among which, Performance-based contracts (PBC) are novel agreements promising a predetermined level of availability to meet the customers' objectives. Therefore under a PBC, customers pay for services according to the system performance. When the system performance fails to meet the predetermined level of availability, OEMs need to pay a penalty cost to their customers.

%Therefore, customers of these complex systems, such as hospitals, militaries and factories, require high availabilities of these systems. On the other hand, the engineering systems involved in capital goods are becoming more and more complex due to the advancement of technologies. The maintenance and repair tasks are too challenging for customers to take care of by themselves. Thus, after-sale services such as maintenances and repairs are often needed by the customers.

%(service contract and performance based contract: Oliva and Kallenberg (2003), Dennis and Kambil (2003), Cohen et al. (2006), Kim et al. (2007, 2011))

%As a result, integrating services as a major sustainable source of profit has been widely recommended by a large amount of papers in recent decades for original equipment manufacturers (OEMs). A study conducted by Accenture (\citet{Dennis}) shows that after-sale services contribute only 25\% of the total revenue across all manufacturing companies, but are responsible for $40\%\-50\%$ of the profit. Many OEMs thus have been transforming their business strategies from product-oriented to service-oriented(\citet{Cohen2006}). \citet{Oliva} mentioned that by integrating services into their core product offerings OEMs can get extra revenues, high margins, a higher specialization level, and competitive advantage. According to \citet{Kim2007} and \citet{Oliva}, there are mainly two types of service contract in literature: material based contract and performance based contract. After selling a system, under the traditional material-based contract, the OEM is responsible for the repair of the system only within the warranty period, which is often short compared with the entire life cycle of the system. After the warranty period, the OEM will charge the customer for providing spare parts, maintenance, and other services to have high availability of the system. From customers' perspective, this may lead to higher spare parts costs, repair costs and labor costs, whereas system availabilities can be lower than the anticipation of the customer when buying the system. This undesired situation for the customer can be avoided by making better agreements with the OEM when a new system is being bought.
%In reality, when a OEM is manufacturing a capital goods in the design phases, commonly it is facing more than one design plans for each critical components, each design has a different failure rate which is randomly distributed with certain distribution parameters,

%%%%%%%% From the second graph, go to our questions by explainning the three important characteristic:

%%%%%%%% 1) minmize LCC

Under a PBC, one of the OEM's major concern is the Life cycle cost (LCC), which is defined as the total cost incurred in the design/development, production, operation, maintenance, support, and final disposition of a system over its anticipated useful life span (\citet{Barringer}). The results of \citet{Oner2007} show that the combination of maintenance cost and downtime cost is larger than the acquisition cost and constitute a significant portion of the LCC. These service costs are incurred by system failures which are highly dependent on system designs. Therefore, reliability design decision, consider LCC and system availability, should be taken before any investment decisions are made.

%%%%%%%% 2) interval availability
%For OEMs, it is important to estimate the system availabilities before the launching of systems. By measuring the interval availability of the system, the OEMs can

The customers of capital goods measure the availability of these complex systems over a predetermined time window. The average performance of the capital goods should meet the required performance level. According to the PBCs, when the overall downtime of the system exceeds the targeted downtime, the OEMs pay the penalty cost to their customers for not meeting the target. Therefore, it is important for the OEMs to calculate the probability that the total uptime falls below the targeted uptime of a given system, so that they can make a trade off between the system performance level between the LCC.

%%%%%%%% 3) uncertainty

In reality, engineers have to select a certain design from all possible alternatives for each critical component in the system during the design phase of a system. The outcome of any development process for a certain design is uncertain with respect to the reliability requirement. For example, since the failure mechanisms of some emerging technologies (e.g., Micro-Electro-Mechanical Systems) are complex, it is often difficult to predict the actual reliability behaviors of the critical components before the development. Therefore newly-designed devices have been found to have different component reliabilities than the expectations after the completion of design. The uncertainty in component reliabilities can lead to large deviations of the realized system availabilities from the expected system availabilities (a point estimate for the system availability). In this case, the uncertainty in component reliabilities also needs to be considered in the decision making of system reliability design under a PBC.

In this paper, we attempt to solve a system reliability design problem considering both uncertain component reliability and interval availability under a PBC, which has not been studied yet. The uncertainty under discussion in our paper is coming from the design phase of an advanced system.

The contribution of the paper is as follows:

Firstly, we take uncertainty in the failure rates of the critical components into consideration. We assumed the failure rates are random variables following probability distributions originating from the design phase of the system.

Secondly, to reduce the computation time of calculating the total downtime due to dimension curse, we propose an approximate method to evaluate the total downtime of a given policy in negligible time.

Thirdly, we compare results from different optimization methods: stochastic method ignoring the uncertain failure rate distribution, deterministic method using expected total downtime as the actual total downtime and our own model considering both stochastic nature of the number of the system failures and the uncertain failure rates.

The remainder of the paper is organized as follows: in Section 2, we briefly reviewed the related literature. Section 3 gives the model description and model formulation. We proposed an approximation evaluation method in Section 4. And Section 5 different optimization methods has been discussed. The numerical results and managerial insights of evaluation and optimization are give in Section 6. The conclusion and future extension of our research are given in Section 7.

\section{Literature}

\begin{figure}
\centering
\includegraphics[width=0.8\linewidth]{lr1.pdf}
 \caption{Literature review}
 \label{fig:literature}
\end{figure}
According to the characteristics of our problem, we shall briefly review the literatures regarding interval availability, reliability optimization and uncertain reliability as described in \ref{fig:literature}.

As defined by \citet{Nakagawa}, interval availability is the fraction of time that a system is operational during a period of time $[0,T]$. Several methods have been proposed to measure interval availability during a service period in literature. \citet{Takacs} first derived the probability distribution function, the limiting distribution and the moments of the interval availability in closed form. Regarding the computational difficulty, \citet{DeSouza} and \citet{AlHanbali} developed several methods to compute the interval availability numerically.
%
%(LCC Life cycle costs:  \"{O}ner et al. (2007)) ({interval availability}: Al Hanbali and van der Heijden (2013); Carrasco (2004); Kirmani and Hood (2008).)

 For the literatures about reliability optimization, a lot of work have been done in this area since the 1990s (\citet{Kuo}). For example, \citet{Mettas} estimated the minimum required reliability for each component of a system in order to achieve a system reliability goal with minimum cost, and the cost function for each component in this paper has been introduced by other papers as well, such as \citet{Huang}, \citet{Oner2010} and \citet{Jin}. Many paper maximize the system reliability by different techniques, for example, a random search process has been proposed by \citet{Beraha} to assign the optimal reliability to each stage of a multi-stage system, \citet{Hwang} used sequential unconstraint minimization, and \citet{Li} developed a 3-level decomposition approach to allocate the resource among subsystems optimally.

Some papers also built the reliability allocation models to find the optimal warranty policies for systems sold with traditional warranty contracts. For example, to minimize the system LCC, \citet{Zuo1998} used genetic algorithms to solve the optimization problem and \citet{Oner2010} introduced a decision support model to jointly optimize the reliability level and spare parts inventory level of a single component system in the design phase. To maximize the profit, \citet{Huang} propose a model to compute the optimal warranty policy under different market situations.

In most previous works on system reliability optimization problem, all parameters were assumed to be precise. However in reality there is considerable uncertainty and inaccuracy in the estimation of the model parameters, especially the component reliabilities. To measure the uncertain system reliability due to the insufficient component-level failure data, \citet{Coit1997}, \citet{Jinandcoit} and \citet{Ramirez-Marquez2008} estimate the confidence interval of the system reliability for different systems.
To solve the reliability optimization problem considering component reliability uncertainty, \citet{Murthy1998} developed a model to determine the optimal redundancy design considering quality uncertainty due to manufacture variability, and obtained the best tradeoff between the manufacturing cost and warranty cost. In \citet{Murthy2003}, the component uncertain reliability has been modeled by a reliability growth model, and a optimization model has been proposed to find the best tradeoff between the development cost and the warranty cost. \citet{Feizollahi} proposed a reliability design framework to address the uncertain component reliability by using the Min-Max regret (also known as robust deviation) approach and transform the nonlinear programming formulations to a linearized binary version to get the exact solutions. None of the above works considered the interval availability under a PBC.

In this paper, we focus on the cases in which component reliabilities can be selected by adopting different materials, designs, or manufacturing processes.

\section{Model}
%\subsection{Model description}
%$i \in \{1,2,...,\(\lvert I\rvert\) \}$
During the design phase of a system, engineers have to select a certain design from all the possible alternatives for each critical component in the system. Suppose the system is comprised of a set of critical components $I=\{1,2,\dots,\lvert I \rvert\}$. If one of these critical components fails, the system as a whole stops working. For each critical component , one design needs to be selected from possible alternatives denoted by $\{1,2,...,\lvert J_{i} \rvert\}$. Each design candidate in $J_{i}$ has its own uncertain reliability parameters and cost parameters. We aim to find out the optimal combination of designs for the system to minimize the expected LCC over the service period $T$ of a PBC contract.

We assume that the failure process of each of design from each component is independent and follows a Poisson process. Without loss of generality, we exclude the cases when two or more failures happening at the same time, so each time when the system is down it only suffered from one failure. Then the lifetimes of the components are also independent and exponentially distributed. Then for a certain rough design $j$ of component $i$ ($i \in I$, $j \in J_{i}$), we denote its failure rate as $\Lambda_{ij}$. The outcome of any development process for a certain design is uncertain. Therefore, the failure rate $\Lambda_{ij}$ of design $j$ for component $i$ is usually not known for sure before the development of the rough design. We use $f_{\Lambda_{ij}}(.)$ as the probability density function of the random failure rate $\Lambda_{ij}$ before the development of the rough design, which reflects the prior belief/information about the reliability uncertainty of the technologies used in the rough design. In the evaluation of the expected LCC over the service period $T$, these design uncertainties will be taken into account for different combinations of rough designs.

The system will be sold together with a PBC contract over a service period $[0,T]$. The OEM is responsible for all the repairs in $[0,T]$. Moreover the total downtime of the service period should be lower than a predetermined value $D_0$. A penalty cost will be paid by the OEM to compensate the customer if the total downtime exceeds $D_{0}$. As a result, the expected total cost of a system over $[0, T]$ consists of three parts: (a) acquisition cost, (b) repair cost, and (c) penalty cost. A detailed description of the evaluation of these cost elements are given in the following subsections.

%\subsection{Model formulation}
Define binary decision variable $x_{ij}$ as
	\[ x_{ij} = \left \{
	  \begin{array} {l l}
         1 & \textrm {if rough design $j$ for component $i$ is selected,}\\
         0 & \textrm {otherwise.}
		\end {array} \right.\]
 We assume the OEM can only select one design from all the possible candidates for each component, so we have $\sum^{\lvert J_{i}\rvert}_{j=1}{x_{ij}=1}$. And the vector of $x_{ij}$ of a given component $i$, $\boldsymbol{x}_{i}=[\boldsymbol{x}_{i1}, \boldsymbol{x}_{i2},\dots, \boldsymbol{x}_{i\lvert J_{i}\rvert}]$ represents which alternative component design has been chosen for component $i$. While the vector of $\boldsymbol{x}_{i}$ ($i \in I$), $\boldsymbol{x}=[\boldsymbol{x}_{1}, \boldsymbol{x}_{2},\dots, \boldsymbol{x}_{\lvert I \rvert}]$ is the decision variable of the system representing the selection of the alternative design for each component. The OEM is interested in minimizing the expected LCC $\pi(\boldsymbol{x})$, which is the sum of the total design cost $A(\boldsymbol{x})$, the expected system repair cost $R(\boldsymbol{x})$ and the expected penalty cost $P(\boldsymbol{x})$. Due to the randomness of the failure rates $\Lambda_{1}(\boldsymbol{x}_{1}),\Lambda_{2}(\boldsymbol{x}_{2}),...,\Lambda_{\lvert I \rvert}(\boldsymbol{x}_{\lvert I \rvert})$ in rough designs, the expected total life cycle cost $\pi(\boldsymbol{x})$ is random. If the decision maker is risk-neutral, the optimization model of this problem can be formulated as
\begin{eqnarray}
\text{(P)} \hspace{15mm} & min_{\boldsymbol{x}} & \hspace{10mm} \pi(\boldsymbol{x}) \nonumber\\
& \text{ s.t. }&  \hspace{5mm} \sum_{j=1}^{\lvert J_{i}\rvert }{x_{ij}}=1, \hspace{10mm} \text{for all $i$}  \in I \nonumber\\
& & \hspace{5mm} x_{ij} \in \{0,1\}, \hspace{10mm}  \text{for all $i$}  \in I, j \in J_{i}
\end{eqnarray}
where $\pi(\boldsymbol{x})=A(\boldsymbol{x})+R(\boldsymbol{x})+P(\boldsymbol{x})$. Notice that in the above optimization formulation, although we do not include a probability constraint on the distribution of $\pi(\boldsymbol{x})$, the variance of $\pi(\boldsymbol{x})$ still gets penalized by the third cost term $P(\boldsymbol{x})$ in the objective function. This optimization problem is difficult to solve because of the complicated form of the objective function. In the objective function, the expected penalty cost $P(\boldsymbol{x})$ is a multiple integration over the ranges of the random failure rates, which is difficult to calculate. Therefore, in the next section, an approximation method will be proposed to make the evaluation of the objective function easier.

\section{Evaluation}
\subsection{Exact evaluation}

\subsubsection{Acquisition cost}
	
	Let $c_{ij}^{a}$ denote the cost of designing and manufacturing component $i$ according to a rough design $j$ ($i \in I$, $j \in J_{i}$). It includes all the costs incurred to realize a certain rough design of component during the design phase, e.g., human resources, experimental equipment, testing or prototype units, etc. The acquisition cost for component $i$ is given by
\begin{eqnarray}
A_{i}(\boldsymbol{x}_{i})=\sum^{\lvert J_{i} \rvert}_{j=1} {c_{ij}^{a} x_{ij}},
\label{Ai}
\end{eqnarray}
where $\boldsymbol{x}_{i}=[x_{i1},x_{i2},...,x_{i\lvert J_{i}\rvert}]$ represents the selection of rough designs for component $i$.
And the total system acquisition cost is given by
\begin{eqnarray}
A(\boldsymbol{x})=\sum ^{\lvert I \rvert}_{i=1}A_{i}(\boldsymbol{x}_{i})=\sum ^{\lvert I \rvert}_{i=1}\sum^{\lvert J_{i} \rvert}_{j=1} {c_{ij}^{a} x_{ij}}, \label{A}
\end{eqnarray}
where $\boldsymbol{x}$ represents the selection plan of rough designs for all the critical components in the system.
	
\subsubsection{Repair cost}
	
When a failure occurs in period $[0, T]$, a repair will be performed by the OEM. We assign $c^r_{ij}$ as the repair cost for each failure of the $j$th rough design for component $i$ ($i \in \{1,2,...,\lvert I \rvert \}$, $j \in \{1,2,..., \lvert J_{i} \rvert $) respectively. The repair cost $c^r_{ij}$ corresponds to diagnosis cost, replacement cost, and other service costs for each repair. A failure-based policy for maintenance is assumed for this multi-component system in order to evaluate the maintenance cost over the service period $T$. The evaluation of repair cost based on a failure-based policy is relatively accurate and conservative. Let $S_{i}(\boldsymbol{x}_{i})$ denote the total number of failures for component $i$ during $[0,T]$. Under such a failure-based policy and the assumption that the lifetimes of components are exponentially distributed, the expected number of repairs for component $i$ during $[0,T]$, $\mathbb{E}[S_{i}(\boldsymbol{x}_{i})]$ is given by:
%$E[N_{i}(T)]$
\begin {eqnarray}
\mathbb{E}\bigg[S_{i}(\boldsymbol{x}_{i})\bigg]=\mathbb{E}\bigg[\Lambda_{i}(\boldsymbol{x}_{i})T\bigg] =\sum_{j=1}^{\rvert J_{i} \lvert}{\mathbb{E}(\Lambda_{ij}T)x_{ij}}=\sum_{j=1}^{\rvert J_{i} \lvert}{\mu_{ij}T}x_{ij}
\end {eqnarray}

Where $\Lambda_{ij}$ is the random failure rates for the $j$th design of component $i$, while $\mu_{ij}$ and $\sigma_{ij}$ are the expectation and standard deviation of $\Lambda_{ij}$. $\Lambda_{i}(\boldsymbol{x}_{i})=\sum_{j=1}^{\rvert J_{i} \lvert}{\Lambda_{ij}x_{ij}}$ is the random failure rate of component $i$ given a certain rough design $\boldsymbol{x}_{i}$. Then the expected repair cost for component $i$, $R_{i}(\boldsymbol{x}_{i})$ is expressed by:
\begin {eqnarray}
R_{i}(\boldsymbol{x}_{i}) = \sum_{j=1}^{\rvert J_{i} \lvert}{\mathbb{E}(\Lambda_{ij}Tc^r_{ij})x_{ij}}= \sum_{j=1}^{\rvert J_{i} \lvert}{\mu_{ij}Tc^r_{ij}}x_{ij}. \label{ERi}
\end {eqnarray}

Given that the failure processes of all the critical components are independent of each other, the expected system repair cost $R(\boldsymbol{x})$ in $[0,T]$ is given as:
%is the sum of $R_{i}(\boldsymbol{x_i}), \forall i \in \{1,2,...,\rvert I \lvert\}$. The expectation of $R(\boldsymbol{x})$ over all the distributions of $\Lambda_{1}(\boldsymbol{x_{1}}),\Lambda_{2}(\boldsymbol{x_{2}}),..., \Lambda_{\rvert J_{i} \lvert}(\boldsymbol{x_{\rvert J_{i}\lvert}})$
\begin {eqnarray}
 R(\boldsymbol{x}) = \sum_{i=1}^{n}{R_{i}(\boldsymbol{x}_{i})} = \sum_{i=1}^{\rvert I \lvert}\sum_{j=1}^{\rvert J_{i} \lvert}{\mu_{ij}Tc^r_{ij}}x_{ij}.\label{ER}
\end {eqnarray}

%%%%%%%%%%%remove the variance of the system repair time, R(x) already means expected repair time. var(R(x)) seems really weird. And var(R(x)) is not mentioned later on.
%The variance of the expected system repair cost with respect to the random failure rates can be expressed as
%\begin {eqnarray}
% Var_{\Lambda(\boldsymbol{x})} \bigg[ R(\boldsymbol{x}) \bigg]  &=&Var_{\Lambda(\boldsymbol{x})} \bigg[ \sum_{i=1}^{n}R_{i}(\boldsymbol{x_{i}}) \bigg]
%= \sum_{i=1}^{n} Var_{\Lambda_i(\boldsymbol{x_{i}})}\bigg[R_{i}(\boldsymbol{x_i})\bigg] \nonumber \\
% &=& \sum_{i=1}^{n} Var_{\Lambda_i(\boldsymbol{x_{i}})}(\sum_{j=1}^{m_{i}}{\Lambda_{ij}c_r^{ij}x_{ij}}T) \nonumber\\
%&=& \sum_{i=1}^{n} \sum_{j=1}^{m_{i}}{(c_r^{ij}x_{ij}}T)^2 Var(\Lambda_{ij}).
%\end {eqnarray}
%For a signal component $i$, its variance of its repair time $Var[R_{i}(x_{i})]$ is:
%\begin{eqnarray}
%Var[R_{i}(x_{i})] = \sum_{j=1}^{\rvert J_{i} \lvert}{Var(\Lambda_{ij}Tc_{ij}^{r})}x_{ij}=\sum_{j=1}^{\rvert J_{i} \lvert}{Var(\Lambda_{ij})(Tc^{r}_{ij})^{2}x_{ij}}
%\end{eqnarray}
%The

\subsubsection{Penalty cost}
A period of system downtime $r_{ij}(r_{ij}<<T)$ will be incurred due to a random failure of component $i$ with rough design $j$ in the system ($i \in \{1,2,...,\rvert I \lvert \}$, $j \in \{1,2,...,\rvert J_{i} \lvert \}$).
Notice that while evaluating the repair costs in the previous section we ignore the downtime since the downtime is usually negligible compared with the service period $T$, for the same reason, when we computing the penalty cost, we ignore the downtime as well. And we also exclude the probability that two or more components failed at the same time, so that each time when the system is down, it is only because one component is down.
However, under a PBC contract, when the total system downtime over the service period $T$ exceeds $D_0$, a penalty cost should be paid by the OEM to customers with a rate $c_p$. $D_0$ is at the same time scale as $r_{ij}$. We assume the system downtime of each failure varies among different components with different rough designs. Hence the total system downtime $D{(\boldsymbol{x})}$ over the service period $T$ is dependent on the number of failures $S_{i}(\boldsymbol{x}_{i})$ and the repair time per failure $r_{i}(\boldsymbol{x}_{i})$ for component $i$,$\forall i\in \{1,\dots,n\}$ in $[0,T]$. The repair time per failure for component $i$, $r_{i}(\boldsymbol{x}_{i})=\sum_{j=1}^{\rvert J_{i} \lvert}{r_{ij}x_{ij}}$, is a fixed value after the selection plan for component $i$ has been made. Notice that the number of failures from component $i$, $S_{i}(\boldsymbol{x}_{i})$, is a Poisson distributed random variable, whose distribution is given as
%\begin {eqnarray}
%Pr\bigg[S_{i}(\boldsymbol{x_i})=s_{i}\bigg]&=&\frac{e^{-\Lambda_{i}(\boldsymbol x_{i})T}}{s_{i}!}{\bigg[\Lambda_{i}(\boldsymbol{x_{i}})T\bigg]}^{s_{i}} \nonumber\\
%&=& \frac{e^{-\sum_{j=1}^{m_{i}}{\Lambda_{ij}x_{ij}T}}(\sum_{j=1}^{m_{i}}{\Lambda_{ij}x_{ij}T})^{s_{i}}}{s_{i}!}.
%\end {eqnarray}
\begin{eqnarray}
Pr\bigg[S_{i}(\boldsymbol{x}_{i})=s_{i}\bigg] &=&\sum^{\rvert J_{i} \lvert}_{j=1}{x_{ij}Pr(S_{ij}=s_{i})} \nonumber\\
&=&\sum^{\rvert J_{i} \lvert}_{j=1}{x_{ij}\int^{\infty}_{0}Pr(S_{ij}=s_{i}|\Lambda_{ij}=\lambda_{ij})f_{\Lambda_{ij}}(\lambda_{ij})d\lambda_{ij}} \nonumber\\
&=&\sum^{\rvert J_{i} \lvert}_{j=1}{x_{ij}\int^{\infty}_{0}{\frac{e^{-\lambda_{ij}T}(\lambda_{ij}T)^{s_{i}}}{s_{i}!}f_{\Lambda_{ij}}(\lambda_{ij})}d\lambda_{ij}}
\end{eqnarray}
And the system downtime can be expressed as
%\begin{eqnarray}
%D(\boldsymbol{x})= r_{1}(\boldsymbol{x}_{1})S_{1}(\boldsymbol{x}_{1})+r_{2}(\boldsymbol{x}_{2})S_{2}(\boldsymbol{x}_{2})+\ldots+r_{n}(\boldsymbol{x}_{n})S_{n}(\boldsymbol{x}_{n}).
%\label{D}
%\end{eqnarray}
\begin{eqnarray}
D(\boldsymbol{x}) &=& \sum_{s_{1}=0}^{\infty}{Pr\bigg[S_{1}(\boldsymbol{x}_{1})=s_{1}\bigg]}\dots\sum_{s_{\rvert I \lvert}=0}^{\infty}{Pr\bigg[S_{\rvert I \lvert}(\boldsymbol{x}_{\rvert I \lvert})=s_{\rvert I \lvert}\bigg]} \bigg[\sum_{i=1}^{\rvert I \lvert}{s_{i}r_{i}(\boldsymbol{x}_{i})}\bigg] \label{systemdowntime}
\end{eqnarray}

According to the service contract, the OEM should pay a penalty cost to the customer. Since the failure rates $\Lambda_{1}(\boldsymbol{x}_{1}),\Lambda_{2}(\boldsymbol{x}_{2}),...,\Lambda_{n}(\boldsymbol{x}_{n})$ are random variables, the expected penalty cost is a random variable as well. Without loss of generality, we assume the failure rates are continuous random variables, with probability density functions $f_{\Lambda_{ij}}(.)$ over region $\mathcal{O}_{ij}$. Then the expected penalty cost due to extra downtime exceeding $D_{0}$ is given as
%Then for component $i$ with a certain design $\boldsymbol{x_{i}}$, the probability density function of the failure rate is $f_{\Lambda_{i}(\boldsymbol{x_{i}})}(.)$ over region $\mathcal{O}_{i}(\boldsymbol{x_{i}})$ The expectation of $P(\boldsymbol{x})$ can be expressed as when $D(\boldsymbol{x})$ exceeds the predetermined target downtime $D_{0}$.
\small
\begin{eqnarray}
P(\boldsymbol{x})& = & \mathbb{E}\bigg\{\bigg[D(\boldsymbol{x})-D_{0}\bigg]^{+} c_{p} \bigg\} \nonumber\\
&=&\sum_{s_{1}=0}^{\infty}\sum_{s_{i}=0}^{\infty}\dots\sum_{s_{\rvert I \lvert}=0}^{\infty}{\prod_{i=1}^{\rvert I \lvert} {Pr\bigg[S_{i}(\boldsymbol{x}_{i})=s_{i}\bigg]}} \bigg[\sum_{i=1}^{\rvert I \lvert}{s_{i}r_{i}(\boldsymbol{x}_{i})}-D_{0}\bigg]^{+}c_{p} \nonumber\\
&=& \sum_{s_{1}=0}^{\infty}\sum_{s_{i}=0}^{\infty}\dots\sum_{s_{\rvert I \lvert}=0}^{\infty}{\prod_{i=1}^{\rvert I \lvert}{\sum_{j=1}^{\rvert J_{\rvert i \lvert} \lvert}{x_{ij}\int_{0}^{\infty}{\frac{e^{-\lambda_{ij}T}(\lambda_{ij}T)^{s_{i}}}{s_{i}!}
f_{\Lambda_{ij}}(\lambda_{ij})d\lambda_{ij}}}}}
\label{penaltycost}
\end{eqnarray}
\normalsize
%\sum_{s_{1}=0}^{\infty}{\frac{e^{-\Lambda_{1}(\boldsymbol{x_{1}})T}(\Lambda_{1}(\boldsymbol{x_{1}})T)^{s_{1}}}{s_{1}!}}\dots\sum_{s_{n}=0}^{\infty}{\frac{e^{-\Lambda_{n}(\boldsymbol{x_{n}})T}(\Lambda_{n}(\boldsymbol{x_{n}})T)^{s_{n}}}{s_{n}!}} \nonumber\\
% &&\bigg[\sum_{i=1}^{n}{s_{i}r_{i}(\boldsymbol{x_{i}})}-D_{0}\bigg]^{+}c_{p}.
%\end{eqnarray}


%\begin{eqnarray}
%&& \mathbb{E}_{\Lambda(\boldsymbol{x})} \bigg[P(\boldsymbol{x}) \bigg]=
%\idotsint_{\lambda_{i} \in \mathcal{O}_{i}(\boldsymbol{x_i})} \sum_{s_{1}=0}^{\infty}{\frac{e^{-\lambda_{1}T}(\lambda_{1}T)^{s_{1}}}{s_{1}!}}\dots\sum_{s_{n}=0}^{\infty}{\frac{e^{-\lambda_{n}T}(\lambda_{n}T)^{s_{n}}}{s_{n}!}} \nonumber\\
%&&\bigg[\sum_{i=1}^{n}{s_{i}r_{i}(\boldsymbol{x_{i}})}-D_{0}\bigg]^{+}c_{p}\prod_{i=1}^{n}{f_{\Lambda_{i}(\boldsymbol{x_{i}})}(\lambda_{i})d\lambda_{1}\dots d\lambda_{n}}. \label{EP2}
%\end{eqnarray}
%The variance of $P(\boldsymbol{x})$ can be expressed as
%\begin{eqnarray}
%&&Var_{\Lambda(\boldsymbol{x})} \bigg[ P(\boldsymbol{x}) \bigg]=
%\idotsint_{\lambda_{i} \in \mathcal{O}_{i}(\boldsymbol{x_{i}})} \sum_{s_{1}=0}^{\infty}{\frac{e^{-\lambda_{1}T}(\lambda_{1}T)^{s_{1}}}{s_{1}!}}\dots\sum_{s_{n}=0}^{\infty}{\frac{e^{-\lambda_{n}T}(\lambda_{n}T)^{s_{n}}}{s_{n}!}}\nonumber\\
%&&\bigg\{\bigg[\sum_{i=1}^{n}{s_{i}r_{i}(\boldsymbol{x_{i}})}-D_{0}\bigg]^{+}c_{p} -\mathbb{E}_{\Lambda(\boldsymbol{x})} \bigg[ P(\boldsymbol{x}) \bigg]\bigg\}^{2} \prod_{i=1}^{n} f_{\Lambda_{i}(\boldsymbol{x_{i}})}(\lambda_{i}) \ d\lambda_{1}\dots d\lambda_{n}.
%\end{eqnarray}


%\paragraph{\textbf{Proposition 1}} \textit{For component $i$, if there exist indices $k$ and $l\in J_{i}$ such that $\mu_{ik}\leq \mu_{il}$, $\sigma_{ik}\leq \sigma_{il}$, $c^{ik}_{a}\geq c^{il}_{a} $, $c^{ik}_{r}\geq c^{il}_{r} $ and $r_{ik} \leq r_{il}$ },  then the optimal solution of the problem (P) has $x_{il}=0$
%
%\paragraph{\textbf{Proof}} The proof is given in \ref{Pro1}.

\subsection{Approximate evaluation}
In this section, we are going to explain how to evaluate a given selection plan of rough designs for all the component in the system approximately. For a given policy $\boldsymbol{\underline{x}}=[\boldsymbol{\underline{x}}_{1},\boldsymbol{\underline{x}}_{2},\dots,\boldsymbol{\underline{x}}_{\lvert I \rvert}]$, the design cost $A(\boldsymbol{\underline{x}})$ and the expected repair cost $R(\boldsymbol{\underline{x}})$ can be determined from Equation \eqref{A} and \eqref{ER}. These two cost terms are linear functions of the decision variables $\underline{\boldsymbol{x}}=[\boldsymbol{\underline{x}}_{1},\boldsymbol{\underline{x}}_{2},\dots,\boldsymbol{\underline{x}}_{\lvert I \rvert}]$.

For the exact evaluation of the expected penalty cost $P(\boldsymbol{\underline{x}})$, we will suffer from the ``curse of dimensionality" when the number of critical components becomes large, since each critical component contributes a dimension in computing the convolution and integration in Equation \eqref{penaltycost}. The computation time will become intractable as the number of critical components grows. From Equation \eqref{systemdowntime}, we can observe that there are two levels of uncertainty existing in $D(\boldsymbol{\underline{x}})$ throughout $[0, T]$. The first level of uncertainty originates from the number of failures $S_{i}(\boldsymbol{\underline{x}})$ ($i \in \{1,2,...,\lvert I \rvert\}$), which is a Poisson distributed random variable. The second level of uncertainty comes from the failure rates $\lambda_{ij}$ ($i \in \{1,2,\dots,\lvert I \rvert\}$, $j \in \{1,2,\dots, \lvert J_{i} \rvert\}$), which is a generally distributed random variable. With the consideration of the stochastic nature of the system downtime $D(\boldsymbol{\underline{x}})$ and the real life situation, we introduce three type of approximation methods to estimate the expected penalty cost, which vary in dealing with the uncertainty levels of $D(\boldsymbol{\underline{x}})$. As is commonly used in the real world, in the first evaluation method, we use the expected the downtime as the actual downtime, which ignore both levels of the uncertainty. According to current literatures, for example,  the uncertainty existing in the failure rates are usually ignored, so in the second evaluation method, we only consider the uncertainty of the number of failures of the system. While for the third evaluation method, we address both uncertainty levels of $D(\boldsymbol{\underline{x}})$ by using the two-moment fit method. The comparison of these methods will be further shown in Section \ref{sec:numerical results}.

To drive the first and second moment of $D(\boldsymbol{\underline{x}})$, first, for the total downtime of the $j$th design in component $i$ in $[0, T]$, the first moment is given as:
\small
\begin{eqnarray}
\mathbb{E}(D_{ij}) &=& \int_{\lambda_{ij}\in \mathcal O_{ij}}\mathbb{E}\bigg[D_{ij} \bigg\vert \Lambda_{ij}=\lambda_{ij}\bigg]f_{\Lambda_{ij}}(\lambda_{ij})d\lambda_{ij} \nonumber\\
 &=& \int_{\lambda_{ij}\in \mathcal O_{ij} } \lambda_{ij}T r_{ij}f_{\Lambda_{ij}}(\lambda_{ij})d\lambda_{ij} \nonumber\\
 &=& \mu_{ij} T r_{ij}
\end{eqnarray}
By using the moment generating function of $D_{ij}$, we have the second moment and variance written as:
\begin{eqnarray}
\mathbb{E}(D^{2}_{ij}) &=& \int_{\lambda_{ij}\in \mathcal O_{ij}}\mathbb{E}\bigg[D^{2}_{ij} \bigg\vert \Lambda_{ij}=\lambda_{ij}\bigg]f_{\Lambda_{ij}}(\lambda_{ij})d\lambda_{ij}  \nonumber\\
&=& \int_{\lambda_{ij}\in \mathcal O_{ij}} {r^{2}_{ij}\lambda_{ij}T(1+\lambda_{ij}T)f_{\Lambda_{ij}}(\lambda_{ij})d\lambda_{ij}} \nonumber\\
&=& r^{2}_{ij}T\mu_{ij} + r^{2}_{ij}T^{2}(\sigma^{2}_{ij}+\mu^{2}_{ij}) \\
\textrm{Var}(D_{ij})&=&\mathbb{E}\bigg[D^{2}_{ij}\bigg] - \bigg(\mathbb{E}[D_{ij}]\bigg)^{2}=r^{2}_{ij}[\mu_{ij}T + T^{2}\sigma^{2}_{ij}]
%&=& r^{2}_{ij}\mu_{ij}T + r^{2}_{ij}T^{2}(\sigma^{2}_{ij}+\mu^{2}_{ij})-r_{ij}^{2}T^{2}\mu^{2}_{ij}\nonumber\\
\end{eqnarray}
\normalsize
Then, for a single component $i$, we have:
\small
\begin{eqnarray}
D_{i}(\boldsymbol{\underline{x}}_{i}) &=& \sum_{j=1}^{\lvert J_{i}\rvert}{D_{ij}\underline{x}_{ij}}\\
\mathbb{E}[D_{i}(\boldsymbol{\underline{x}}_{i})] &=&\sum_{j=1}^{\lvert J_{i} \rvert}{r_{ij}\mu_{ij}T\underline{x}_{ij}} \\
\textrm{Var}[D_{i}(\boldsymbol{\underline{x}}_{i})]&=&\sum_{j=1}^{\lvert J_{i} \rvert}{r_{ij}^{2}[T^{2}\sigma^{2}_{ij}+T\mu_{ij}]\underline{x}_{ij}}
\end{eqnarray}
\normalsize
Finally, for the total downtime of the system in $[0, T]$:
\small
\begin{eqnarray}
D(\boldsymbol{\underline{x}}) &=& \sum_{i=1}^{\lvert I \rvert}D_{i}(\boldsymbol{\underline{x}}_{i})
=\sum_{i=1}^{\lvert I \rvert}\sum_{j=1}^{\lvert J_{i}\rvert}{D_{ij}\underline{x}_{ij}}  \\
\mu_{D}(\boldsymbol{\underline{x}})&=&\mathbb{E}[D(\boldsymbol{\underline{x}})] = \sum^{\lvert I \rvert}_{i=1}\mathbb{E}[D_{i}(\boldsymbol{\underline{x}}_{i})] = \sum^{\lvert I \rvert}_{i=1} \sum_{j=1}^{\lvert J_{i} \rvert}{r_{ij}\mu_{ij}T\underline{x}_{ij}} \label{expdowntime}\\
\sigma^{2}_{D}(\boldsymbol{\underline{x}})&=&\textrm{Var}[D(\boldsymbol{\underline{x}})] = \sum_{i=1}^{\lvert I \rvert} \sum_{j=1}^{\lvert J_{i} \rvert}\textrm{Var}[D_{i}(\boldsymbol{\underline{x}}_{i})] = \sum_{i=1}^{\lvert I \rvert}\sum_{j=1}^{\lvert J_{i} \rvert}r_{ij}^{2}[T^{2}\sigma^{2}_{ij}+T\mu_{ij}]\underline{x}_{ij} \label{vardowntime}
\end{eqnarray}
\normalsize
%With the first moment, second moment and variance of $D(\boldsymbol{\underline{x}})$, we can have
%we have its total downtime $D_{i}(\boldsymbol{\underline{x}}_{i})$ and the mean and variance of $D_{i}(\boldsymbol{\underline{x}}_{i})$ are  written as:
%\begin{eqnarray}
%D_{i}(\boldsymbol{\underline{x}}_{i}) = \sum_{j=1}^{\lvert J_{i} \rvert}{D_{ij}\underline{x}_{ij}} \\
%\mat
%\end{eqnarray}
%
\subsubsection{One-moment method}

The most direct way of approximating the system downtime is to use expected downtime instead of the actual downtime. According to Equation \eqref{expdowntime}, one-moment fit method use $\mathbb{E}[D(\boldsymbol{\underline{x}})]$ as $D(\boldsymbol{\underline{x}})$, then we have the first evaluation of system downtime $D_{A1}(\boldsymbol{\underline{x}})$ described as:
\small
\begin{eqnarray}
D_{A1}(\boldsymbol{\underline{x}}) = \sum^{\lvert I \rvert}_{i=1} \sum_{j=1}^{\lvert J_{i} \rvert}{r_{ij}\mu_{ij}T\underline{x}_{ij}}
\label{approximation1}
\end{eqnarray}
\normalsize
With $D_{A1}$ as the actual downtime, the exceeded downtime $D^{E}$ can be approximated as:
\begin{eqnarray}
D^{E}_{A1}(\boldsymbol{\underline{x}}) =\mathbb{E}\bigg\{\bigg[D(\boldsymbol{\underline{x}})-D_{0}\bigg]^{+}\bigg\} = \bigg[D_{A1}(\boldsymbol{\underline{x}})-D_{0} \bigg]^{+} \label{penapproximation1}
\end{eqnarray}
\subsubsection{Fixed failure rate method}
In current literature, when researchers are dealing with certain reliability optimization problems, for example \citet{Mettas} \citet{Oner2010} and \citet{Huang}, they did not consider the uncertainty of $\lambda_{ij}$ ($i \in I$, $j \in \rvert J_{i} \lvert$). So for the second approximation evaluation method, given that the lifetimes of the components are exponentially distributed, we will simply assume $\lambda_{ij}$ ($i \in I$, $j \in \rvert J_{i} \lvert$) is a constant. $D^{E}(\boldsymbol{\underline{x}})$ can be approximated as $D^{E}_{A2}(\boldsymbol{\underline{x}})$:
\small
\begin{eqnarray}
D^{E}_{A2}(\boldsymbol{\underline{x}}) &=&\sum_{s_{1}=0}^{\infty}\sum_{s_{i}=0}^{\infty}\dots\sum_{s_{\rvert I \lvert}=0}^{\infty}{\prod_{i=1}^{\rvert I \lvert} {Pr\bigg[S_{i}(\boldsymbol{x}_{i})=s_{i}\bigg]}} \bigg[\sum_{i=1}^{\rvert I \lvert}{s_{i}r_{i}(\boldsymbol{x}_{i})}-D_{0}\bigg]^{+}c_{p} \nonumber\\
&=& \sum_{s_{1}=0}^{\infty}\sum_{s_{i}=0}^{\infty}\dots\sum_{s_{\rvert I \lvert}=0}^{\infty}{\prod_{i=1}^{\rvert I \lvert} {x_{ij}\frac{e^{-\lambda_{ij}T}(\lambda_{ij}T)^{s_{i}}}{s_{i}!}}}\bigg[\sum_{i=1}^{\rvert I \lvert}{s_{i}r_{i}(\boldsymbol{x}_{i})}-D_{0}\bigg]^{+}c_{p}
\end{eqnarray}
\normalsize
%Then, we have the approximation of the penalty cost written as:
%\small
%\begin{eqnarray}
%P_{A2}(\boldsymbol{\underline{x}}) &=& \mathbb{E}\bigg[D(x)-D_{0}\bigg]^{+}c_p \nonumber\\
%&=& \sum_{s_{1}=0}^{\infty}\sum_{j=1}^{\rvert J_{1}\lvert}{\frac{e^{-\mu_{1j}T}(\mu_{1j}T)^{s_{1}}}{s_{1}!}x_{1j}} \dots \sum_{s_{\rvert I \lvert}=0}^{\infty}\sum_{j=1}^{\rvert J_{\rvert I \lvert}\lvert}{\frac{e^{-\mu_{\rvert I \lvert j}T}(\mu_{\rvert I \lvert j}T)^{s_{\rvert I \lvert}}}{s_{\rvert I \lvert}!}x_{\rvert I \lvert j}} \nonumber\\
%&& \bigg[\sum_{i=1}^{\rvert I \lvert}s_{i}r_{i}(\boldsymbol{\underline{x}}_{i})-D_{0}\bigg]^{+}c_{p}
%\end{eqnarray}
%\normalsize
\subsubsection{Two-moment fit method}

To approximate both the uncertainty of the failure rate as well as the number of failures, we find an approximation method to calculate the distribution of the system downtime $D(\underline{\boldsymbol{x}})$. As we mentioned before, the total downtime $D(\underline{\boldsymbol{x}})$ is the summation of the downtime for all critical components. The number of failures for each component is Poisson distributed with an uncertain parameter. In this approximate method, we approximate the downtime by fitting a mixed Erlang distribution to the first two moments of $D(\underline{\boldsymbol{x}})$. We got the first moment and variance of $D(\underline{\boldsymbol{x}})$, from Equation \eqref{expdowntime} and Equation \eqref{vardowntime}. Then the coefficient of variation of $D(\underline{\boldsymbol{x}})$ is given by
\small
\begin{eqnarray}
c_{v}(\boldsymbol{x}) &=& \frac{\sigma_{D}(\boldsymbol{x})}{\mu_{D}(\boldsymbol{x})} = \frac{\sqrt{\sum_{i=1}^{\lvert I \rvert}\sum_{j=1}^{\lvert J_{i} \rvert}r_{ij}^{2}[T^{2}\sigma^{2}_{ij}+T\mu_{ij}]\underline{x}_{ij}}}{\sum^{\lvert I \rvert}_{i=1} \sum_{j=1}^{\lvert J_{i} \rvert}{r_{ij}\mu_{ij}T\underline{x}_{ij}}} \label{cv}
\end{eqnarray}
%where $\mu_{i}(\boldsymbol{x_i})$ and $\sigma_{i}(\boldsymbol{x_i})$ is the mean and standard deviation of $\Lambda_{i}(\boldsymbol{x_i})$ respectively.
%%\mu_{D^{2}}(\boldsymbol{x})&=&
%T^{2}\sum_{i=1}^{n}r_{i}(\boldsymbol{x_i})^{2}\int_{\lambda_{i}(\boldsymbol{x_i})\in\Lambda_{i}(\boldsymbol{x_i})}{\lambda_{i}(\boldsymbol{x_i})^{2}f(\lambda_{i}(\boldsymbol{x_i}))d\lambda_{i}(\boldsymbol{x_i})}\nonumber\\
%&&+2T^{2}\sum_{i=1}^{n}\sum_{i\ne j}{r_{i}(\boldsymbol{x_i})r_{j}(\boldsymbol{x_j})\mu_{i}(\boldsymbol{x_i})\mu_{j}(\boldsymbol{x_j})}\nonumber\\
%&&+T\sum_{i=1}^{n}{r_{i}(\boldsymbol{x_i})^{2}\mu_{i}(\boldsymbol{x_i})}
\normalsize
Given that $\mu_{D}>0$, and $0<c_{v}\leq 1$, according to Tijms 1994, we fit the downtime distribution to an Erlang$(k-1,k)$ distribution with parameters$(k,\theta,q_{E})$ such that the first two moments of $D(\boldsymbol{x})$ equal the first two moments of the Erlang $(k-1,k)$ distribution. Thus the parameters of the Erlang $(k-1,k)$ distribution can be obtained as
\small
\begin{eqnarray}
&&k(\boldsymbol{x}) = \lceil \frac{1}{c_{v}^{2}(\boldsymbol{x})} \rceil, \label{k1}\\
&&q_{E}(\boldsymbol{x})= \frac{1}{1+c^{2}_{v}(\boldsymbol{x})}\bigg[k(\boldsymbol{x})c^{2}_{v}(\boldsymbol{x})-\sqrt{k(\boldsymbol{x})\big[1+c^{2}_{v}(\boldsymbol{x})\big]-k^{2}(\boldsymbol{x})c^{2}_{v}(\boldsymbol{x})} \bigg], \label{q1}\\
&&\theta(\boldsymbol{x}) = \frac{k(\boldsymbol{x})-q_{E}(\boldsymbol{x})}{\mu_{D}(\boldsymbol{x})}. \label{theta1}
\end{eqnarray}
\normalsize
Then for random failure rates $\Lambda_{1}(\boldsymbol{x_{1}})$, $\Lambda_{2}(\boldsymbol{x_{2}})$,..., $\Lambda_{n}(\boldsymbol{x_{n}})$ the expected exceeding total downtime and expected penalty costs can be approximated by
\begin{eqnarray}
\small
D_{A3}^{E}(\boldsymbol{x})=\mathbb{E}\bigg\{\big[D(\boldsymbol{x})-D_{0}\big]^{+}\bigg\}
%&&=(\frac{k-q}{\theta}-D_{0})\sum_{j=0}^{k-1}{\frac{(\theta(\boldsymbol{x})D_{0})^j}{j!}e^{-\theta(\boldsymbol{x})D_{0}}}\nonumber\\
&=&\bigg[\frac{k(\boldsymbol{x})-q_{E}(\boldsymbol{x})}{\theta(\boldsymbol{x})}-D_{0}\bigg]\sum_{j=0}^{k(\boldsymbol{x})-2}{\frac{\big[\theta(\boldsymbol{x}) D_{0}\big]^j}{j!}e^{-\theta(\boldsymbol{x})D_{0}}}\nonumber\\
&&+\bigg[\frac{k(\boldsymbol{x})-q_{E}(\boldsymbol{x})}{\theta(\boldsymbol{x})}\bigg]\frac{\big[\theta(\boldsymbol{x})D_{0}\big]^{k(\boldsymbol{x})-1}}{\big[k(\boldsymbol{x})-1\big]!}e^{-\theta(\boldsymbol{x})D_{0}}.
\label{EXD1}
\end{eqnarray}
\normalsize
The derivation is given in Appendix \ref{appendix:erlongk-1}.

If $c_{v} \geq 1$, we fit the downtime distribution to an Hyperexponential distribution with parameters$(\theta_{1},\theta_{2}, q_{H})$ such that the first two moments of $D(\boldsymbol{x})$ equal the first two moments of the Hyperexponential distribution. Thus the parameters of the Hyperexponential distribution can be obtained as
\begin{eqnarray}
     \theta_{1}(\boldsymbol{x}) &=& \frac{2}{\mu_{D}(\boldsymbol{x})}\bigg(1+\sqrt{\frac{c^{2}_{v}(\boldsymbol{x})-\frac{1}{2}}{c^{2}_{v}(\boldsymbol{x})+1}} \bigg), \label{theta11}\\
     \theta_{2}(\boldsymbol{x}) &=& \frac{4}{\mu_{D}(\boldsymbol{x})} - \theta_{1}(\boldsymbol{x}), \label{theta12}\\
     q_{H}(\boldsymbol{x}) &=& \frac{\theta_1(\boldsymbol{x})(\theta_2(\boldsymbol{x})\mu_{D}(\boldsymbol{x})-1)}{\theta_2(\boldsymbol{x}) -\theta_1(\boldsymbol{x})} \label{q2}
\end{eqnarray}
Then the expected exceeding total downtime can be approximated by
\begin{eqnarray}
D_{A3'}^{E}(\boldsymbol{x}) =\frac{q_{H}(\boldsymbol{x})}{\theta_{1}(\boldsymbol{x})} e^{-\theta_{1}(\boldsymbol{x}) D_0 } + \frac{1-q_{H}(\boldsymbol{x})}{\theta_{2}(\boldsymbol{x})} e^{-\theta_{2}(\boldsymbol{x}) D_0} \label{EXD2}
\end{eqnarray}
The derivation can be found in Appendix \ref{appendix:hyperexponential}.


The procedure of the approximation evaluation method is illustrated in the following algorithm.

\textbf{Algorithm 1}
\label{Algorithm1}
\begin{description}
\item[Step 1] Compute the $\mu_{D}(\boldsymbol{x})$, $\sigma^{2}_{D}(\boldsymbol{x})$ and $c_{v}(\boldsymbol{x})$ of the downtime distribution, check the value of $c_{v}(\boldsymbol{x})$: if $0<c_{v}(\boldsymbol{x}) \leq 1$, go to step 2; if $c_{v}(\boldsymbol{x}) > 1$, go to step 3.
\item[Step 2] Fit the first two moments of an Erlang$(k-1, k)$ distribution to be equal to the first two moments of the downtime distribution.
 \begin{description}
 \item[Step 2-a] Let $k(\boldsymbol{x})$, $\theta(\boldsymbol{x})$ and $q_{E}(\boldsymbol{x})$ be the parameters of the fitted Erlang$(k-1,k)$ distribution, and compute the values of $k(\boldsymbol{x})$, $\theta(\boldsymbol{x})$ and $q_{E}(\boldsymbol{x})$ according to Equation \eqref{k1},\eqref{q1} and \eqref{theta1}.
 \item[Step 2-b] Calculate the expected exceeding total downtime $D_{E1}^A(\boldsymbol{x})$ according to Equation \eqref{EXD1}.
\end{description}
\item[Step 3] Fit the first two moments of a Hyperexponential distribution to be equal to the first two moments of the downtime distribution.

\begin{description}
 \item[Step 3-a] Let $\theta_{1}(\boldsymbol{x})$, $\theta_{2}(\boldsymbol{x})$ and $q_{H}(\boldsymbol{x})$ be the parameters of the fitted Hyperexponential distribution, compute the values of these parameters according to Equation \eqref{theta11}, \eqref{theta12} and \eqref{q2}.
 \item[Step 3-b] Compute the expected exceeding total downtime $D_{E2}^A(\boldsymbol{x})$ according to Equation \eqref{EXD2} .
\end{description}

%The expected penalty costs $\mathbb{E}_{\Lambda(\boldsymbol(X))}[P(\boldsymbol(X))]$ of problem (P) can be written as:
%\begin{eqnarray}
%\mathbb{E}_{\Lambda(\boldsymbol{x})}[P_{A}(\boldsymbol{x})]&=&c_{p}(\frac{k(\boldsymbol{x})-q(\boldsymbol{x})}{\theta(\boldsymbol{x})}-D_{0})\sum_{j=0}^{k(\boldsymbol{x})-2}{\frac{(\theta(\boldsymbol{x}) D_{0})^j}{j!}e^{-\theta(\boldsymbol{x}) D_{0}}}\nonumber\\
%&&+c_{p}(\frac{k(\boldsymbol{x})-q(\boldsymbol{x})}{\theta(\boldsymbol{x})})\frac{(\theta(\boldsymbol{x})D_{0})^{k(\boldsymbol{x})-1}}{(k(\boldsymbol{x})-1)!}e^{-\theta(\boldsymbol{x})D_{0}}
%\end{eqnarray}
%The we have the optimization problem formulated as:
%\begin{eqnarray}
%\text{($P_{A}$)} \hspace{15mm} & min_{\boldsymbol{x}} & \hspace{10mm} \mathbb{E}_{\Lambda} \bigg[ \pi_{A}(\boldsymbol{x})\bigg] \nonumber\\
%& \text{ s.t. }&  \hspace{5mm} \sum_{j=1}^{m_i}{x_{ij}}=1, \hspace{10mm} \forall i \in \{1,2,...,n\} \nonumber
%\end{eqnarray}
%where $\pi_{A}(\boldsymbol{x})=A(\boldsymbol{x})+R(\boldsymbol{x})+P_{A}(\boldsymbol{x})$.

\end{description}


%\section{Optimization}

%In the previous section, we have discussed how a given policy, which is the selection of rough designs for all the critical components in the system can be evaluated in an approximate way. In this section, we will describe a method of finding a feasible policy for problem (P) with as low life cycle costs as possible. The problem is formulated as a binary integer programming with a nonlinear objective function.
%which is equivalent to a knapsack problem with multiple-choice constraints, so that is $NP$-hard (Garey and Johnson 1979).



%The branch-and-bound (B\&B) method is the most widely used algorithm for solving Integer programming problems. However, according to Taha 1975, the original (B\&B) method in the Land-Doig method is not suitable to solve a non-linear integer programming (NIP) problem, because the validity of the branching rules requires linearity assumption. Dakin 1965 proposed a modified Land-Doig method proposed by makes the branching rule suitable for solving non-linear integer programming problem, under the condition that the objective function and each constraint function with respect to decision variables are concave and convex, respectively. Lee \textit {et al}. 1994 presented a B\&B method for solving separable convex integer programming problems. Sung and Cho 2000 have solved a reliability optimization problem of designing a hardware system involving numerous discrete choices among available component types among reliability, cost, performance, weight, etc. using an efficient B\&B problem. Since Sung and Cho 2000 generated upper bounds and lower bounds for each stage of their problem, the objective function should be decomposable. Another method for solving NIP problems is intelligent enumeration proposed by Taha 1975. Taha's method can only solve polynomial IP problems. For large reality problems, exact methods are lacking since they require a very large amount of computation time and specific properties of the objective function and constraints.
%\subsection{Exact analysis}
%\subsection{Numerical analysis}
\section{Computational results}
\label{sec:numerical results}

\subsection{Accuracy of the approximation}
To assess the accuracy the three evaluation methods mentioned in the previous section, we compare the evaluation results of these methods with the simulation results. Our simulation results are generated by using Monte Carlo simulation method, the simulation procedure are mentioned in detail in Appendices \ref{MCP}, in which the exceeded downtime $D^{E}_{S}$ is computed as well as the gaps between $D^{E}_S$ and the exceeded downtime from different evaluation methods, $D^{E}_{A1}$, $D^{E}_{A2}$ and $D^{E}_{A3}$. A full factorial test bed is set up to show the accuracy of the evaluation procedures under different parameter settings. We investigate the effect of three factors: the number of the critical components $n$, coefficient of variation $c_{v}$ of the failure rate for each component and the predetermined targeted downtime $D_{0}$. Notice that although the standard deviation $\sigma_{i}$ is a function of the design $\underline{\boldsymbol{x}}_{i}$, we will treat it as a parameter of the approximation models or simulation model to assess the approximation accuracy without loss of generality. Similarly, for $\mu_{i}(\underline{\boldsymbol{x}}_{i})$ and $r_{i}(\underline{\boldsymbol{x}}_{i})$ in the calculation of $D^{E}_{A1}(\underline{\boldsymbol{x}})$ and $D^{E}_{S}(\underline{\boldsymbol{x}})$, we will also treat them as parameters ($\mu_{i} , r_{i}$) of the approximation models or simulation model. The instance space $\Omega$ is thus defined by all combinations of the choices for the three factors, i.e., $(n_{\alpha},\sigma_{\beta},D_{\gamma}) \in \Omega$, $\forall \alpha \in \{1,2,3\}, \beta \in \{1,2,3\}, \gamma \in \{1,2,3,4\}$. The values of choices for each factor are shown in Table \ref{tab:testbedps}. In the test bed, the factor $D_{\gamma}$ is a coefficient to generate different values of $D_0$ by the following expression,
 \begin{eqnarray}
 D_{0} = D_{\gamma}\sum_{i=1}^{n}{\mu_{i} r_{i} T}, \label{D0}
\end{eqnarray}
where $\sum_{i=1}^{n}{\mu_{i} r_{i} T}$ is the expected total downtime. Thus, if $D_{\gamma}$ is one, the targeted downtime $D_0$ is set to be equal to the expected total downtime.
There are 36 instances in the test bed $\Omega$. The setting of the fixed parameters in the test bed is given in Table \ref{tab:testbedmur}. $r_{i}$ varies for different $i$ by taking a value from {1, 3, 5}. $\mu_{i}$ varies for different $i$ as a sequence. Both lognormal distribution and uniform distribution are assumed as the distributions for the failure rates in this study.

For the one-moment fit method, it is apparent that when $D_{\gamma} \leq 1$, the exceeded $D^{E}_{A1} = 0$ under all the 36 instances for each distribution. For the zero-sigma method, since the randomness of the failure rates are not considered, $D^{E}_{A2}$ is only related to $n_{\alpha}$ and $D_{\gamma}$, so only 12 instances for each distribution is computed, to compare the gap between $D^{E}_{A2}$ and $D^{E}_{S}$ under all the 36 parameter settings, we use one identical value of $D^{E}_{A2}$ for different $\sigma_{\beta}$ under the same settings of ($n_{\alpha}$, $D_{\gamma}$).




%The number of the components $n$ in the system will affect the complexity, accuracy and computation time of our model. Different values of $\sigma_{i}$ reflect different deviation levels of the failure rate distributions. For the same sequence of $\mu_{i}$, higher $\sigma_{i}$ level results in higher exceeded total downtime. In our test beds we define $D_0$ as:
% \begin{eqnarray}
% D_{0}(\boldsymbol{x}) = D_{f}\sum_{i=1}^{n}{\sum_{j=1}^{m_{i}}{\mu_{ij}r_{ij}x_{ij}T}} \label{D0}
%\end{eqnarray}
%where $D_{f}$ is the level factor of $D_{0}(\boldsymbol{x})$, it reflects the intensity of the penalty policy service given by the customer within the service contract period $T$. Larger $D_{f}$ leads to small exceeded total downtime, furthermore, small penalty costs.

\begin{table}[htbp]
  \centering
  \caption{The parameter setting of the test bed}
    \begin{tabular}{lll}
    \toprule
  $n$ & $c_{v}$ & $D_{f}$\\
    \midrule
    5, 25, 50, 75, 100 & 0.2, 0.5, 0.8, 1.1, 1.4, 1.7 & $ 1, 1.05, 1.1, 1.15, 1.2, 1.25, 1.3$ \\
  \bottomrule
    \end{tabular}%
  \label{tab:testbedps}%
\end{table}

\begin{table}[htbp]
  \centering
  \caption{Parameter values for $\mu_{i}$ and $r_{i}$, $i=\{1,2,...,n_{\alpha}\}$}
    \begin{tabular}{llll}
    \toprule
    $n$ & $T$ & $\mu_{i}$ &  $r_{i}$\\
    \midrule
    5, 25, 50, 75, 100   &10& $\{0.200,...,0.200-(i-1)\frac{0.18}{n-1},...,0.02\}$ &$\{1,3,5,1,3,5,...\}$\\
    \bottomrule
    \end{tabular}%
  \label{tab:testbedmur}%
\end{table}

%\begin{table}[htbp]
%  \centering
%  \caption{Parameter values for $\mu_{i}$ and $r_{i}$, $i=\{1,2,...,n_{\alpha}\}$}
%    \begin{tabular}{llll}
%    \toprule
%    $n$ & $T$ & $\mu_{i}$ &  $r_{i}$\\
%    \midrule
%    $5$   &10& $\{0.200,...,0.200-(i-1)0.045,...,0.02\}$ &$\{1,3,5,1,3\}$\\
%    $25$  &10& $\{0.200,...,0.200-(i-1)0.0075,...,0.02\}$ &$\{1,3,5,1,3,5,...,1\}$\\               $50$  &10& $\{0.200,...,0.200-(i-1)0.0037,...,0.02\}$ &$\{1,3,5,1,3,5,...,3\}$\\
%    $75$  &10& $\{0.200,...,0.200-(i-1)0.0024,...,0.02\}$ &$\{1,3,5,1,3,5,...,5\}$\\
%    $100$ &10& $\{0.200,...,0.200-(i-1)0.0018,...,0.02\}$ &$\{1,3,5,1,3,5,...,1\}$\\
%    \bottomrule
%    \end{tabular}%
%  \label{tab:testbedmur}%
%\end{table}

We summarize the results of the test bed in Table \ref{tab:evaluationsummerylognormal}. To see how the approximation results deviate from the simulation results for each instance, we first compute the proportion of the expected exceeding downtime in the targeted total downtime, i.e., $D_{A1}^{E}/D_0$ for the approximation model and $D_{S}^{E}/D_0$ for the simulation model, as well as the confidence intervals of the simulation results. The confidence intervals of all the simulation results are relatively small, which shows the accuracy of our simulation results. Then the accuracy of our approximation is assessed by the gaps between $D_{A1}^{E}/D_0$, $D_{A2}^{E}/D_0$, $D_{A3}^{E}/D_0$ and $D_{S}^{E}/D_0$. For lognormal-distributed failure rates, the average gaps are shown in Table \ref{tab:lognormaldetail}. For the one-moment fit method, the average gap is $4.09\%$ and the max gap is $17.14\%$; while for the two-moment fit method the average gap is $0.04\%$ and the maximum gap is $0.29\%$. From these results, we can get the conclusion that the two-moment fit method is relatively accurate under different parameter settings. %For uniformly-distributed failure rates, the gaps are denoted as in Table \ref{uniform1}; the average gap is  0.0005 and the maximum gap is 0.0023.

%which are denoted as $avg$ $ G_l$ and $max $ $G_l$ for lognormally-distributed failure rates, and denoted as $avg$ $G_n$ and $max$ $G_n$ for uniformly-distributed failure rates . The detailed results of $D_{E}^{A}/D_0$, $D_{E}^{S}/D_0$, confidence interval of the simulation result $D_{E}^{S}/D_0$, $avg$ $G$ and $max$ $G$ for each instance are shown in Table \ref{lognormal1} for lognormally-distributed failure rates and Table \ref{uniform1} for uniformly-distributed failure rates of \ref{detailapptable}. To take a better overview of the gaps, in Table \ref{generalapptable}, the comparison between $D_{E}^{A}/D_0$ and $D_{E}^{S}/D_0$ are made by computing $avg$ $G$ and $max$ $G$ for each level of every factor. For example, in the second row of Table \ref{generalapptable}, $avg$ $G$ and $max$ $G$ represent the average gap and maximum gap of the subset $\Omega_{n_{5}}=\{(n_{5},\sigma_{\beta},D_{\gamma})|\beta\in\{0.2,0.35,0.5\},\gamma\in\{01,02,03,04\}\}$ (when $n=5$).

Generally, our approximation method is more accurate when $n$ is large (e.g., 50 or 100). This is due to the fact that the total downtime is the sum of $n$ independent random variables, and when $n$ is large the total downtime converges in distribution to a normal random variable regardless of the individual underlying distributions. Note that the computation times of the approximation models for all the instances are negligible compared with the simulation model. In order to better demonstrate the accuracy of the two-moment fit method, we also compare the probability density functions of the downtime distribution estimated from the simulation model with the ones estimated from the approximation model, as shown in Figure \ref{fig:lognormal} and Figure \ref{fig:uniform}. It is obvious that the downtime distributions estimated from the simulation model are approximately the same as the ones estimated from the two moment fit model for various settings of $n$ and $\sigma$.
\small
%\begin{table}[htbp]
%  \centering
%    \caption{Average gap and maximum gap between the simulation results and three evaluation methods}
%    \begin{tabular}{lrrrrrr}
%    \toprule
%    & \multicolumn{2}{c}{One-moment fit method} & \multicolumn{2}{c}{Fixed-failure rate method} & \multicolumn{2}{c}{Two-moment fit method}  \\
%    & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} \\
%    \midrule
%    $\Lambda$ & 8,79\% & 32,62\% & 3,20\% & 12,40\% & 0,48\% & 3,79\% \\
%    $\Lambda_{n_{5}}$ & 19,36\% & 32,62\% & 6,27\% & 12,40\% & 1,27\% & 3,79\% \\
%    $\Lambda_{n_{50}}$  & 4,40\% & 11,76\% & 2,08\% & 5,60\% & 0,11\% & 0,50\% \\
%    $\Lambda_{n_{100}}$  & 2,62\% & 8,41\% & 1,26\% & 4,09\% & 0,06\% & 0,23\% \\
%    $\Lambda_{c_{v1}}$ & 6,01\% & 21,23\% & 0,42\% & 1,04\% & 0,09\% & 0,42\% \\
%    $\Lambda_{c_{v2}}$ & 8,59\% & 26,76\% & 3,00\% & 6,54\% & 0,20\% & 0,61\% \\
%    $\Lambda_{c_{v3}}$& 11,78\% & 32,62\% & 6,19\% & 12,40\% & 1,15\% & 3,79\% \\
%    $\Lambda_{D_{f1}}$ & 14,09\% & 32,62\% & 3,86\% & 12,40\% & 0,63\% & 3,79\% \\
%    $\Lambda_{D_{f2}}$ & 9,49\% & 26,78\% & 3,58\% & 12,33\% & 0,47\% & 3,10\% \\
%    $\Lambda_{D_{f3}}$ & 6,67\% & 21,89\% & 2,96\% & 11,58\% & 0,42\% & 2,84\% \\
%    $\Lambda_{D_{f4}}$ & 4,92\% & 18,05\% & 2,42\% & 10,71\% & 0,40\% & 2,56\% \\
%    \bottomrule
%    \end{tabular}%
%  \label{tab:addlabel}%
%\end{table}%

% Table generated by Excel2LaTeX from sheet 'Jan17erlong'
\begin{table}[htbp]
  \centering
    \caption{Average gap and maximum gap between the simulation results and three evaluation methods}
    \begin{tabular}{lrrrrrr}
    \toprule
    & \multicolumn{2}{c}{One-moment fit method} & \multicolumn{2}{c}{Fixed-failure rate method} & \multicolumn{2}{c}{Two-moment fit method}  \\
    & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} \\
    \midrule
    $\Lambda$ & 7,39\% & 34,28\% & 3,11\% & 14,12\% & 0,42\% & 5,46\% \\
    $\Lambda_{n_{5}}$ & 19,65\% & 34,28\% & 6,74\% & 14,12\% & 1,51\% & 5,46\% \\
    $\Lambda_{n_{25}}$ & 7,19\% & 17,23\% & 3,42\% & 8,47\% & 0,31\% & 1,66\% \\
    $\Lambda_{n_{50}}$ & 4,37\% & 12,64\% & 2,27\% & 6,48\% & 0,12\% & 0,80\% \\
    $\Lambda_{n_{75}}$ & 3,20\% & 10,44\% & 1,72\% & 5,42\% & 0,08\% & 0,55\% \\
    $\Lambda_{n_{100}}$ & 2,55\% & 9,09\% & 1,39\% & 4,76\% & 0,07\% & 0,45\% \\
    $\Lambda_{c_{v1}}$ & 4,44\% & 20,67\% & 0,16\% & 0,50\% & 0,07\% & 0,43\% \\
    $\Lambda_{c_{v2}}$ & 5,22\% & 22,81\% & 0,93\% & 2,64\% & 0,06\% & 0,37\% \\
    $\Lambda_{c_{v3}}$ & 6,46\% & 25,73\% & 2,18\% & 5,57\% & 0,10\% & 0,45\% \\
    $\Lambda_{c_{v4}}$ & 7,92\% & 28,98\% & 3,63\% & 8,81\% & 0,33\% & 1,57\% \\
    $\Lambda_{c_{v5}}$ & 9,43\% & 32,19\% & 5,15\% & 12,02\% & 0,71\% & 3,12\% \\
    $\Lambda_{c_{v6}}$ & 10,87\% & 34,28\% & 6,59\% & 14,12\% & 1,23\% & 5,46\% \\
    $\Lambda_{D_{f1}}$  & 12,73\% & 34,28\% & 3,84\% & 14,11\% & 0,58\% & 5,46\% \\
    $\Lambda_{D_{f2}}$  & 10,15\% & 31,22\% & 3,71\% & 14,12\% & 0,51\% & 4,92\% \\
    $\Lambda_{D_{f3}}$  & 8,19\% & 28,48\% & 3,48\% & 13,98\% & 0,44\% & 4,47\% \\
    $\Lambda_{D_{f4}}$  & 6,67\% & 25,96\% & 3,17\% & 13,72\% & 0,38\% & 4,13\% \\
    $\Lambda_{D_{f5}}$  & 5,50\% & 23,46\% & 2,82\% & 13,15\% & 0,36\% & 4,08\% \\
    $\Lambda_{D_{f6}}$ & 4,60\% & 21,31\% & 2,50\% & 12,57\% & 0,34\% & 3,93\% \\
    $\Lambda_{D_{f7}}$  & 3,90\% & 19,70\% & 2,23\% & 12,36\% & 0,31\% & 3,48\% \\
    \bottomrule
    \end{tabular}%
  \label{tab:addlabel}%
\end{table}%


%
% Table generated by Excel2LaTeX from sheet 'sigma0,35'
%\begin{table}[htbp]
%\small
%  \centering
%  %\caption{Average gap and maximum gap between the simulation results and three evaluation methods}
%    \begin{tabular}{lrrrrrrrr}
%    \toprule
%    \small
%          & \multicolumn{4}{c}{Two moment fit method} & \multicolumn{2}{c}{Ingnore uncertainty } & \multicolumn{2}{c}{First moment fit method} \\
%          & \multicolumn{2}{c}{Lognormal distribution} & \multicolumn{2}{c}{Uniform distribution} &  \multicolumn{2}{c}{of failure rate}     &       &  \\
%          & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} \\
%    \midrule
%    \normalsize
%    $\Lambda$ & 0,04\% & 0,29\% & 0,05\% & 0,82\% & 0,73\% & 1,72\% & 4,09\% & 17,14\% \\
%    $\Lambda_{n_{5}}$ & 0,10\% & 0,29\% & 0,12\% & 0,82\% & 1,48\% & 1,72\% & 9,57\% & 17,14\% \\
%    $\Lambda_{n_{50}}$ & 0,01\% & 0,09\% & 0,02\% & 0,21\% & 0,45\% & 0,90\% & 1,66\% & 5,54\% \\
%    $\Lambda_{n_{100}}$ & 0,00\% & 0,05\% & 0,01\% & 0,16\% & 0,25\% & 0,64\% & 1,02\% & 3,96\% \\
%    $\Lambda_{\sigma_{0.2}}$ & 0,04\% & 0,29\% & 0,04\% & 0,82\% & -     & -     & 3,59\% & 14,70\% \\
%    $\Lambda_{\sigma_{0.35}}$ & 0,04\% & 0,28\% & 0,05\% & 0,75\% & -     & -     & 4,02\% & 15,74\% \\
%    $\Lambda_{\sigma_{0.5}}$ & 0,03\% & 0,24\% & 0,06\% & 0,76\% & -     & -     & 4,65\% & 17,14\% \\
%     $\Lambda_{D_{01}}$  & 0,03\% & 0,29\% & 0,05\% & 0,82\% & 1,09\% & 1,72\% & 8,07\% & 17,14\% \\
%     $\Lambda_{D_{02}}$  & 0,02\% & 0,23\% & 0,03\% & 0,58\% & 0,85\% & 1,63\% & 4,22\% & 11,89\% \\
%     $\Lambda_{D_{03}}$  & 0,05\% & 0,25\% & 0,06\% & 0,43\% & 0,55\% & 1,40\% & 2,48\% & 8,18\% \\
%     $\Lambda_{D_{04}}$  & 0,06\% & 0,28\% & 0,07\% & 0,51\% & 0,41\% & 1,17\% & 1,57\% & 5,60\% \\
%    \bottomrule
%    \end{tabular}%
%  %\label{generalapptable}%
%\end{table}%

% Table generated by Excel2LaTeX from sheet 'sigma0,35'
% Table generated by Excel2LaTeX from sheet 'conclusiontable'
%\begin{table}[htbp]
%\small
%  \centering
%  \caption{Average gap and maximum gap between the simulation results and three evaluation methods}
%    \begin{tabular}{lrrrrrr}
%    \toprule
%          & \multicolumn{2}{c}{One-moment fit method} & \multicolumn{2}{c}{Zero-sigma method} & \multicolumn{2}{c}{Two-moment fit method}  \\
%          & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} \\
%    \midrule
%    $\Lambda$ & 4.09\% & 17.14\% & 0.72\% & 3.01\% & 0.04\% & 0.29\% \\
%   $\Lambda_{n=5}$ & 9.57\% & 17.14\% & 1.48\% & 3.01\% & 0.10\% & 0.29\% \\
%   $\Lambda_{n=50}$ & 1.66\% & 5.54\% & 0.45\% & 1.56\% & 0.01\% & 0.09\% \\
%    $\Lambda_{n=100}$& 1.02\% & 3.96\% & 0.25\% & 1.12\% & 0.00\% & 0.05\% \\
%      $\Lambda_{c_{v}=0.2}$ & 3.59\% & 14.70\% & 0.22\% & 0.56\% & 0.04\% & 0.29\% \\
%     $\Lambda_{c_{v}=0.35}$ & 4.02\% & 15.74\% & 0.66\% & 1.59\% & 0.04\% & 0.28\% \\
%    $\Lambda_{c_{v}=0.5}$& 4.65\% & 17.14\% & 1.29\% & 3.01\% & 0.03\% & 0.24\% \\
%        $\Lambda_{D_{f}=1}$ & 8.07\% & 17.14\% & 1.09\% & 1.72\% & 0.03\% & 0.29\% \\
%        $\Lambda_{D_{f}=1.1}$ & 4.22\% & 11.89\% & 0.85\% & 1.63\% & 0.02\% & 0.23\% \\
%        $\Lambda_{D_{f}=1.2}$ & 2.48\% & 8.18\% & 0.55\% & 1.40\% & 0.05\% & 0.25\% \\
%        $\Lambda_{D_{f}=1.3}$ & 1.57\% & 5.60\% & 0.41\% & 1.17\% & 0.06\% & 0.28\% \\
%    \bottomrule
%    \end{tabular}%
%  \label{tab:evaluationsummerylognormal}%
%\end{table}%

% Table generated by Excel2LaTeX from sheet 'erlong05Dec'
%\begin{table}[htbp]
%  \centering
%  \caption{Average gap and maximum gap between the simulation results and three evaluation methods}
%    \begin{tabular}{lrrrrrr}
%   \toprule
%          & \multicolumn{2}{c}{One-moment fit method} & \multicolumn{2}{c}{Zero-sigma method} & \multicolumn{2}{c}{Two-moment fit method}  \\
%          & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} & \multicolumn{1}{c}{avg Gap} & \multicolumn{1}{c}{max Gap} \\
%    \midrule
%    $\Lambda$ & 9,20\% & 32,84\% & 3,61\% & 12,62\% & 0,51\% & 3,57\% \\
%    $\Lambda_{n=5}$ & 20,17\% & 32,84\% & 7,08\% & 12,62\% & 1,36\% & 3,57\% \\
%    $\Lambda_{n=50}$ & 4,65\% & 11,70\% & 2,33\% & 5,54\% & 0,11\% & 0,56\% \\
%    $\Lambda_{n=100}$ & 2,77\% & 8,37\% & 1,40\% & 4,06\% & 0,06\% & 0,26\% \\
%    $\Lambda_{c_{v}=0.5}$ & 6,67\% & 22,74\% & 1,08\% & 2,52\% & 0,07\% & 0,30\% \\
%    $\Lambda_{c_{v}=1}$ & 9,13\% & 27,93\% & 3,54\% & 7,71\% & 0,32\% & 0,99\% \\
%    $\Lambda_{c_{v}=1.5}$ & 11,79\% & 32,84\% & 6,20\% & 12,62\% & 1,15\% & 3,57\% \\
%    $\Lambda_{D_{f}=1}$ & 14,61\% & 32,84\% & 4,38\% & 12,62\% & 0,65\% & 3,57\% \\
%    $\Lambda_{D_{f}=1.1}$ & 9,91\% & 26,65\% & 4,00\% & 12,19\% & 0,52\% & 3,24\% \\
%    $\Lambda_{D_{f}=1.2}$ & 7,04\% & 21,87\% & 3,32\% & 11,55\% & 0,45\% & 2,87\% \\
%    $\Lambda_{D_{f}=1.3}$ & 5,23\% & 18,10\% & 2,72\% & 10,76\% & 0,42\% & 2,51\% \\
%    \bottomrule
%    \end{tabular}%
%  \label{tab:addlabel}%
%\end{table}%
\normalsize

%\newpage
\subsection{Numerical comparison of different optimization methods}

\subsubsection{Test bed}
 %Table generated by Excel2LaTeX from sheet 'Sheet30'
\small
 \begin{tabular}{*{3}{l}}
  \toprule
     Name of parameter & No. & Values\\
                      &val. &         \\
  \midrule
  Downtime budget factor ($D_{f}$) & 3     & 1, 1.1, 1.2 \\
  Acquisition costs ($c_{ij}^{a}$) & 3 & $\left\{\begin{tabular}{@{\ }l@{}} 1) $\left\{\begin{tabular}{@{\ }l@{}}
    \hspace{11mm}$[500, 1000, \dots, 500i,\dots, 5000]$ \\ 1.5 $\times$ $[500, 1000, \dots, 500i,\dots, 5000]$
  \end{tabular}\right.$ \\
   2) $\left\{\begin{tabular}{@{\ }l@{}}
    \hspace{7mm} $[500, 1000, \dots, 500i,\dots, 5000]$ \\ 2 $\times$ $[500, 1000, \dots, 500i,\dots, 5000]$
  \end{tabular}\right.$ \\
     3) $\left\{\begin{tabular}{@{\ }l@{}}
   \hspace{10mm} $[500, 1000, \dots, 500i,\dots, 5000]$ \\ 2.5 $\times$ $[500, 1000, \dots, 500i,\dots, 5000]$
  \end{tabular}\right.$
  \end{tabular}\right.$\\
  Expected failure rates ($\mu_{ij}$) & 3 & $\left\{\begin{tabular}{@{\ }l@{}} 1) $\left\{\begin{tabular}{@{\ }l@{}}
  0.50, 0.75, 0.40, 0.65, 0.85, 0.35, 0.45, 0.95, 0.30, 0.40\\
  0.45, 0.75, 0.38, 0.40, 0.75, 0.32, 0.43, 0.95, 0.25, 0.40
 \end{tabular}\right.$ \\
  2) $\left\{\begin{tabular}{@{\ }l@{}}
  0.50, 0.75, 0.40, 0.65, 0.85, 0.35, 0.45, 0.95, 0.30, 0.40\\
  0.34, 0.56, 0.29, 0.30, 0.56, 0.24, 0.32, 0.71, 0.19, 0.30
 \end{tabular}\right.$ \\
  3) $\left\{\begin{tabular}{@{\ }l@{}}
  0.50, 0.75, 0.40, 0.65, 0.85, 0.35, 0.45, 0.95, 0.30, 0.40\\
  0.45, 0.75, 0.38, 0.40, 0.75, 0.32, 0.43, 0.95, 0.25, 0.40
 \end{tabular}\right.$
 \end{tabular}\right.$\\
 Coefficient of variation ($c_{v}$) & 3 & 0.3, 0.9, 1.5 \\
 Penalty cost factor ($c^{p}$) & 3 & 1000, 5000, 10000\\
   \bottomrule
\end{tabular}
\normalsize

%\begin{table}[htbp]
%\small
  %\centering
  %\caption{Overview of parameter choices for the test bed}
    %\begin{tabular}{*{4}}{c}
%    \toprule
%    %\midrule
%     & $D_{f}$ &  $c_{v}$     &  $c^{p}$  \\
%     \midrule
%    Level 1     & 1    & 0.25 & 1000    \\
%    Level 2     & 1.1   & 0.5 & 5000   \\
%    Level 3     & 1.2   & 1  & 10000   \\
%    $c_{ij}^{a}$ &    & & \\
%    \midrule
%   \multicolumn{3}{c}{ $\left\{\begin{tabular}{@{\ }l@{}}
%   1) \left Level 1 $[500, 1000,  1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000]$\\
%    }\\
%    750   & 1500  & 2250  & 3000  & 3750  & 4500  & 5250  & 6000  & 6750  & 7500 \\
%    \midrule
%    500   & 1000  & 1500  & 2000  & 2500  & 3000  & 3500  & 4000  & 4500  & 5000 \\
%    1000  & 2000  & 3000  & 4000  & 5000  & 6000  & 7000  & 8000  & 9000  & 10000 \\
%    \midrule
%    500   & 1000  & 1500  & 2000  & 2500  & 3000  & 3500  & 4000  & 4500  & 5000 \\
%    1250  & 2500  & 3750  & 5000  & 6250  & 7500  & 8750  & 10000 & 11250 & 12500 \\
%    \midrule
%    \midrule
%    $\mu$    &       &       &       &       &       &       &       &       &  \\
%    \midrule
%    0.50  & 0.75  & 0.40  & 0.65  & 0.85  & 0.35  & 0.45  & 0.95  & 0.30  & 0.40 \\
%    0.45  & 0.75  & 0.38  & 0.40  & 0.75  & 0.32  & 0.43  & 0.95  & 0.25  & 0.40 \\
%    \midrule
%    0.50  & 0.75  & 0.40 & 0.65  & 0.85  & 0.35  & 0.45  & 0.95  & 0.30  & 0.40 \\
%    0.34  & 0.56  & 0.29 & 0.30  & 0.56  & 0.24  & 0.32  & 0.71  & 0.19  & 0.30 \\
%    \midrule
%    0.50  & 0.75  & 0.40  & 0.65  & 0.85  & 0.35  & 0.45 & 0.95  & 0.30  & 0.40 \\
%    0.23  & 0.38  & 0.19  & 0.20  & 0.38  & 0.16  & 0.22 & 0.48  & 0.13  & 0.20 \\
%    \midrule
%    \midrule
%    $c_{v}$ &       &       &       &       &       &       &       &       &  \\
%    \midrule
%    0.25  & 0.50   & 1     &       &       &       &       &       &       &  \\
%    \midrule
%    \midrule
%    $c_p$&       &       &       &       &       &       &       &       &  \\
%    \midrule
%    1000  & 5000  & 10000 &       &       &       &       &       &       &  \\
    %\bottomrule
    %\end{tabular}%
  %\label{tab:addlabel}%
%\end{table}%
\normalsize
% Table generated by Excel2LaTeX from sheet 'Sheet30'
%\begin{table}[htbp]
%  \centering
%  \caption{Overview of parameter choices for the test bed}
%    \begin{tabular}{*{3}{c}}
%    \toprule
%    Parameter name & number of values & values \\
%    \midrule
%    Budget for targeted downtime ($D_f$) & 3     & 1, 1.1, 1.2 \\
%          &       & $\left\{\begin{tabular}{@{\ }l@{}}
%           [500, 1000, … ,500i, …, 5000] \\
%     1.5\times[500, 1000, … ,500i, …, 5000] \end{tabular} \right. $\\
%    acquisition cost $(c_{ij}^{a})$ & 3     & $[500, 1000, … ,500i, …, 5000]$ \\
%          &       & $2\times[500, 1000, … ,500i, …, 5000]$ \\
%          &       & $[500, 1000, … ,500i, …, 5000]$ \\
%          &       & $2\times[500, 1000, … ,500i, …, 5000]$ \\
%    expected failure rate (\mu) & 3     & 1) \\
%          &       & 2) \\
%          &       & 3) \\
%    coefficient of variation($c_{v}$) & 3     & 0.25, 0.5, 1 \\
%    Penalty cost factor ($c^{p}$) & 3     & 1000, 5000, 10000 \\
%    \bottomrule
%    \end{tabular}%
%  \label{tab:addlabel}%
%\end{table}%


% Table generated by Excel2LaTeX from sheet 'Sheet27'
\begin{table}[htbp]
  \centering
  \caption{Values of fixed parameters}
    \begin{tabular}{rrrrr}
    \toprule
    $T$ (year) & $r$ (h per repair) & $c_{r}$ (€ per repair) & \(\lvert $I$ \rvert\)   & \(\lvert $J$\rvert\) \\
    \midrule
    10    & 3     & 0.3$c_{ij}^{a}$ & 10    & 2 \\
    \bottomrule
    \end{tabular}%
  \label{tab:addlabel}%
\end{table}%



\subsubsection{Results and managerial insights}

\section{Conclusion}
\newpage
\begin{appendices}


\section{Procedures of the Monte Carlo simulation}
\label{MCP}
\begin{description}
\item[Step 1]
First, we generated the sequences of $r_{i}$, $\mu_{i}$ and $\sigma_{i}$, $i=\{1,2,...,n\}$. Then we get $D_0$ immediately from Eq. \eqref{D0}. Furthermore, we take one sample $\hat{\Lambda}_{i}$ from $\Lambda_{i} \sim G(\mu_{i},\sigma_{i})$ for each component to simulate its failure rate $\lambda_{i}$, where $G(\mu_{i},\sigma_{i})$ is a general distribution with parameter mean $\mu_{i}$ and standard deviation $\sigma_{i}$. Given that the number of failures of each component $s_{i}$ is Poisson distributed with parameter $\lambda_{i}T$, we take one sample $\hat{S}_{i}$ from $S_{i}\sim$Pois$(\hat{\Lambda}_{i}T)$. Together with $r_{i}$, we get one simulation result $\hat{D}_{S}^{E}/D_{0}$ of the proportion of the exceeded total downtime $D_{E}/D_0$ computed as following:
\begin{eqnarray}
\hat{D}_{S}^{E}/D_{0}=\frac{\sum_{i=1}^{n}{\hat{S}_{i}r_{i}}-D_0}{\sum_{i=1}^{n}{\hat{S}_{i}r_{i}}}
\end{eqnarray}

\item[Step 2]

Repeat step 1 for 10000 times to get 10000 $\hat{D}_{S}^{E}/D_{0}$, we take the expected value $\bar{D}_{S}^{E}/D_{0}$ of all the $\hat{D}_{S}^{E}/D_{0}$ and compare it with the approximation result $D_{A1}^{E}/D_{0}$, $D_{A2}^{E}/D_{0}$ and $D_{A3}^{E}/D_{0}$ according to Eqs. \eqref{EXD1} or \eqref{EXD2}  to get values of the absolute gap between $\bar{D}_{S}^{E}/D_{0}$ and $D_{A1}^{E}/D_{0}$, $D_{A2}^{E}/D_{0}$ and $D_{A3}^{E}/D_{0}$.

\item[Step 3]

Repeat step 3 for 50 times to generate final simulation results of $D^{E}/D_{0}$, $D^{E}_{S}/D_{0}$. And the mean and maximum value for each gap and the confidence interval for $D^{E_{p}}_{S}$. The 95\% percent confidence interval is given as:
$$(D_{S}^{E}/D_{0}-t_{(49,2.5\%)}\sqrt{\frac{S^{2}(50)}{50}},\hspace{3mm}D_{S}^{E}/D_{0}+t_{(49,2.5\%)}\sqrt{\frac{S^{2}(50)}{50}} ) $$

\end{description}

\section{Derivations for the two-moment fits method}
\label{AG}
%\subsection{The first two moments of the downtime distribution}
%The mean $\mu_{D}(\boldsymbol{x})$ of $\mathbb{E}_{S}\bigg[D(\boldsymbol{x})\bigg]$ are given by:
%\begin{eqnarray}
%\mu_{D}(\boldsymbol{x})=\mathbb{E}_{\Lambda(\boldsymbol{x})}\mathbb{E}_{S} \bigg[D(\boldsymbol{x}) \bigg]=T\sum_{i=1}^{n}{r_{i}(\boldsymbol{x_i})\mu_{i}(\boldsymbol{x_i})}=\frac{k(\boldsymbol{x})-q(\boldsymbol{x})}{\theta(\boldsymbol{x})}
%\label{muD}
%\end{eqnarray}
%The variance $\sigma_{D}(\boldsymbol{x})$ of $D(\boldsymbol{x})$ is given by:
%\begin{eqnarray}
%\sigma^{2}_{D}(\boldsymbol{x})&=&\mathbb{E}_{\Lambda(\boldsymbol{x})}\mathbb{E}_{S} \bigg[D^{2}(\boldsymbol{x}) \bigg]- \bigg\{\mathbb{E}_{\Lambda(\boldsymbol{x})}\mathbb{E}_{S}\bigg[D(\boldsymbol{x}) \bigg] \bigg\}^{2} \nonumber\\
%&=& \mathbb{E}_{\Lambda(\boldsymbol{x})}\bigg[\bigg[\sum_{i=1}^{n}{r_{i}(\boldsymbol{x_{i}})\lambda_{i}(\boldsymbol{x_{i}})T}\bigg]^{2} +\sum_{i=1}^{n}{r_{i}^{2}(\boldsymbol{x_{i}})\lambda_{i}(\boldsymbol{x_{i}})T}\bigg]-\bigg[T\sum_{i=1}^{n}{r_{i}(\boldsymbol{x_i})\mu_{i}(\boldsymbol{x_i})}\bigg]^{2}\nonumber\\
%&=&\sum_{i=1}^{n}{r_{i}^{2}(\boldsymbol{x_i})\mu_{i}(\boldsymbol{x_i})T}\nonumber\\
%&=&\frac{\sqrt{k(\boldsymbol{x})-q^{2}(\boldsymbol{x})}}{\lambda(\boldsymbol{x})}
%\end{eqnarray}
\subsection{Identities for the Erlang$(k-1,k)$ distribution}
\label{appendix:erlongk-1}
Consider an Erlang$(k-1,k)$ distribution $X$ with parameters $(k,\theta,q)$, the probability density function of is
\begin{eqnarray}
e_{k-1,k}(x)=q\theta^{k-1}\frac{x^{k-2}}{(k-2)!}e^{-\theta x} + (1-q)\theta^{k}\frac{x^{k-1}}{(k-1)!}e^{-\theta x} \nonumber
\end{eqnarray}
the cumulative distribution function of $X$ is
\begin{eqnarray}
E_{k-1,k}(x)=q\bigg(1-\sum_{j=0}^{k-2}\frac{(\theta x)^{j}}{j!}e^{-\theta x} \bigg)+(1-q)\bigg(1-\sum_{j=0}^{k-1}\frac{(\theta x)^{j}}{j!}e^{-\theta x} \bigg) \nonumber
\end{eqnarray}
Then the first partial moment of the Erlang$(k-1,k)$ can be described as:
\begin{eqnarray}
\mathbb{E}{[(X-X_{0})^{+}]} &=& \int_{0}^{\infty}{(x-X_{0})^{+}e_{k-1,k}(x)d x} \nonumber\\
&=& \frac{q(k-1)}{\theta}\int_{X_{0}}^{\infty}{\theta^{k}\frac{x^{k-1}}{(k-1)!}e^{-\theta x}dx}+\frac{k(1-q)}{\theta}\int_{X_0}^{\infty}{\theta^{k+1}\frac{x^{k}}{k!}e^{-\theta x}dx}\nonumber\\
&&-X_{0}\int_{X_{0}}^{\infty}{e_{k-1,k}(x)dx}\nonumber
\end{eqnarray}
Given the probability density function of an Erlang distribution is: $e_{k}^{\theta}(x)=\theta^{k}\frac{x^{k-1}}{(k-1)!}e^{-\theta x}$ and the Erlang cumulative distribution function is $E_{k}^{\theta}(X) = 1-\sum_{j=0}^{k-1}{\frac{(\lambda x)^{j}}{j!}e^{-\lambda x}}$, we have:
\begin{eqnarray}
\mathbb{E}{[(X-X_{0})^{+}]}
&=& \frac{q(k-1)}{\theta}\bigg[1-E_{k}^{\theta}(X_{0})\bigg]+\frac{k(1-q)}{\theta}\bigg[1-E_{k+1}^{\theta}(X_{0})\bigg]-X_{0}\bigg[1-E_{k-1,k}^{\theta}(X_{0})\bigg] \nonumber\\
&=&(\frac{k-q}{\theta}-X_{0})\sum_{j=0}^{k-2}{\frac{(\theta X_{0})^j}{j!}e^{-\theta X_{0}}}+(\frac{k-q}{\theta})\frac{(\theta X_{0})^{k-1}}{(k-1)!}e^{-\theta X_{0}}\nonumber
\end{eqnarray}


\subsection{Identities for the Hyperexponential distribution}
\label{appendix:hyperexponential}
For a Hyperexponential distribution $X$ with parameters $(\theta_1,\theta_2,q)$, the probability density function is given as:
\begin{eqnarray}
h_{2}(x) = q\theta_{1}e^{-\theta_{1}x} + (1-q)\theta_{2}e^{-\theta_{2}x} \nonumber
\end{eqnarray}
the cumulative distribution function is given as:
\begin{eqnarray}
H_{2}(x) = q(1-e^{-\theta_{1}x})+(1-q)(1-e^{-\theta_{2}x}) \nonumber
\end{eqnarray}
And the first partial moment is given as:
\begin{eqnarray}
\mathbb{E}{[(X-X_{0})^{+}]} &=& \int^{\infty}_{0}(x-X_{0})^{+}h_{2}(x)dx \nonumber\\
&=& \int^{\infty}_{X_{0}}{xq\theta_{1}e^{-\theta_{1}x}dx} + \int^{\infty}_{X_{0}}{x(1-q)\theta_{2}e^{-\theta_{2}x}dx}-X_{0}\int_{X_{0}}^{\infty}{h_{2}(x)dx} \nonumber\\
&=& qX_{0}e^{-\theta_{1}X_{0}} + \frac{q}{\theta_{1}}\int_{X_{0}}^{\infty}{\theta e^{-\theta_{1} x}dx} + (1-q)X_{0}e^{-\theta_{2}X_{0}} + \frac{1-q}{\theta_{2}}\int_{X_{0}}^{\infty}{\theta_{2}e^{-\theta_{2}x}dx} \nonumber\\
&& -X_{0}\bigg[1-H_{2}(X_{0}) \bigg] \nonumber
\end{eqnarray}
With the exponential probability density function $f_{\theta}(x)=\theta e^{-\theta x}$, and the exponential cumulative distribution function $F_{\theta}(x)= 1-e^{-\theta x}$, define the complementary distribution function of $F_{\theta}(x)$ as $\bar{F}_{\theta}(x)$, then the first partial moment can be written as:
\begin{eqnarray}
\mathbb{E}{[(X-X_{0})^{+}]}&=& qX_{0}e^{-\theta_{1}X_{0}} + (1-q)X_{0}e^{-\theta_{2}X_{0}} + \frac{q}{\theta_{1}}\bigg[1-F_{\theta_{1}}(X_{0})\bigg]+\frac{1-q}{\theta_{2}}\bigg[1-F_{\theta_{2}}(X_{0}) \bigg] \nonumber\\
&&-X_{0}\bigg[ 1- H_{2}(X_{0})\bigg] \nonumber
\end{eqnarray}


\section{Figures of the total downtime of the test bed}

\begin{figure}
\centering
\includegraphics[width=1.1\linewidth]{lognormal.eps}
 \caption{The simulation curve and approximation curve of the downtime density distribution under lognormal distributed failure rate}
 \label{fig:lognormal}
\end{figure}


\begin{figure}
\centering
\includegraphics[width=1.1\linewidth]{uniform.eps}
 \caption{The simulation curve and approximation curve of the downtime density distribution under uniform distributed failure rate}
  \label{fig:uniform}
\end{figure}

\end{appendices}

\section{Detail results of the computational results}
%We can also observe that both $D_{E_{p}}^{S}$ and $D_{E_{p}}^{A}$ is much lower for a system with a larger number of components than for a system with small number of components. And $D_{E_{p}}$ is increasing while $\sigma$ is increasing.
% Table generated by Excel2LaTeX from sheet 'erlanglognormalS100000'
\begin{table}[htbp]
\small
  \centering
  \caption{Simulation and approximation results in the case of lognormal distributed failure rates}
    \begin{tabular}{lllll}
    \toprule
   & & Confidence interval & & \\
          & $D_{S1}^{E}/D_0$ & of $D_{S1}^{E}/D_0$  & $D^{E}_{A1}/D_{0}$, $D^{E}_{A2}/D_{0}$, $D^{E}_{A3}/D_{0}$ & $(avg$ $G_{A1}$, $avg$ $G_{A2}$, $avg$ $G_{A3})$ \\
    \midrule
    $(n_{1},\sigma_{1},D_{1})$  & 14.70\% & (14.68\%, 14.72\%) & (0\%, 14.14\%, 14.58\%) & (14.7\%, 0.56\%, 0.12\%) \\
    $(n_{1},\sigma_{1},D_{2})$ & 9.59\% & (9.57\%, 9.6\%) & (0\%, 9.05\%, 9.62\%) & (9.59\%, 0.54\%, 0.03\%) \\
    $(n_{1},\sigma_{1},D_{3})$ & 6.11\% & (6.1\%, 6.13\%) & (0\%, 5.69\%, 6.26\%) & (6.11\%, 0.42\%, 0.15\%) \\
    $(n_{1},\sigma_{1},D_{4})$ & 3.84\% & (3.83\%, 3.85\%) & (0\%, 3.49\%, 4.02\%) & (3.84\%, 0.35\%, 0.18\%) \\
   $(n_{1},\sigma_{2},D_{1})$ & 15.73\% & (15.7\%, 15.75\%) & (0\%, 14.14\%, 15.65\%) & (15.73\%, 1.59\%, 0.08\%) \\
    $(n_{1},\sigma_{2},D_{2})$ & 10.55\% & (10.53\%, 10.56\%) & (0\%, 9.05\%, 10.58\%) & (10.55\%, 1.5\%, 0.03\%) \\
   $(n_{1},\sigma_{2},D_{3})$ & 6.97\% & (6.95\%, 6.98\%) & (0\%, 5.69\%, 7.09\%) & (6.97\%, 1.28\%, 0.12\%) \\
    $(n_{1},\sigma_{2},D_{4})$ & 4.55\% & (4.53\%, 4.56\%) & (0\%, 3.49\%, 4.71\%) & (4.55\%, 1.06\%, 0.16\%) \\
     $(n_{1},\sigma_{3},D_{1})$  & 17.15\% & (17.13\%, 17.17\%) & (0\%, 14.14\%, 17.15\%) & (17.15\%, 3.01\%, 0\%) \\
     $(n_{1},\sigma_{3},D_{2})$ & 11.89\% & (11.87\%, 11.91\%) & (0\%, 9.05\%, 11.96\%) & (11.89\%, 2.84\%, 0.07\%) \\
     $(n_{1},\sigma_{3},D_{3})$ & 8.18\% & (8.16\%, 8.2\%) & (0\%, 5.69\%, 8.29\%) & (8.18\%, 2.49\%, 0.11\%) \\
     $(n_{1},\sigma_{3},D_{4})$ & 5.60\% & (5.58\%, 5.61\%) & (0\%, 3.49\%, 5.72\%) & (5.6\%, 2.11\%, 0.12\%) \\
   $(n_{2},\sigma_{1},D_{1})$ & 4.29\% & (4.28\%, 4.29\%) & (0\%, 3.98\%, 4.28\%) & (4.29\%, 0.31\%, 0.01\%) \\
   $(n_{2},\sigma_{1},D_{2})$ & 0.98\% & (0.98\%, 0.98\%) & (0\%, 0.8\%, 1\%) & (0.98\%, 0.18\%, 0.02\%) \\
 $(n_{2},\sigma_{1},D_{3})$ & 0.14\% & (0.14\%, 0.14\%) & (0\%, 0.09\%, 0.15\%) & (0.14\%, 0.05\%, 0.01\%) \\
    $(n_{2},\sigma_{1},D_{4})$ & 0.01\% & (0.01\%, 0.01\%) & (0\%, 0\%, 0.02\%) & (0.01\%, 0.01\%, 0.01\%) \\
    $(n_{2},\sigma_{2},D_{1})$ & 4.82\% & (4.81\%, 4.83\%) & (0\%, 3.98\%, 4.82\%) & (4.82\%, 0.84\%, 0\%) \\
    $(n_{2},\sigma_{2},D_{2})$ & 1.34\% & (1.34\%, 1.35\%) & (0\%, 0.8\%, 1.36\%) & (1.34\%, 0.54\%, 0.02\%) \\
     $(n_{2},\sigma_{2},D_{3})$ & 0.27\% & (0.27\%, 0.27\%) & (0\%, 0.09\%, 0.28\%) & (0.27\%, 0.18\%, 0.01\%) \\
     $(n_{2},\sigma_{2},D_{4})$ & 0.04\% & (0.04\%, 0.04\%) & (0\%, 0\%, 0.04\%) & (0.04\%, 0.04\%, 0\%) \\
      $(n_{2},\sigma_{3},D_{1})$ & 5.54\% & (5.53\%, 5.55\%) & (0\%, 3.98\%, 5.56\%) & (5.54\%, 1.56\%, 0.02\%) \\
     $(n_{2},\sigma_{3},D_{2})$ & 1.89\% & (1.89\%, 1.9\%) & (0\%, 0.8\%, 1.88\%) & (1.89\%, 1.09\%, 0.01\%) \\
     $(n_{2},\sigma_{3},D_{3})$ & 0.52\% & (0.52\%, 0.52\%) & (0\%, 0.09\%, 0.51\%) & (0.52\%, 0.43\%, 0.01\%) \\
      $(n_{2},\sigma_{3},D_{4})$ & 0.12\% & (0.12\%, 0.12\%) & (0\%, 0\%, 0.11\%) & (0.12\%, 0.12\%, 0.01\%) \\
    $(n_{3},\sigma_{1},D_{1})$ & 3.05\% & (3.04\%, 3.05\%) & (0\%, 2.84\%, 3.05\%) & (3.05\%, 0.21\%, 0\%) \\
    $(n_{3},\sigma_{1},D_{2})$ & 0.34\% & (0.33\%, 0.34\%) & (0\%, 0.25\%, 0.35\%) & (0.34\%, 0.09\%, 0.01\%) \\
     $(n_{3},\sigma_{1},D_{3})$ & 0.01\% & (0.01\%, 0.01\%) & (0\%, 0.01\%, 0.02\%) & (0.01\%, 0\%, 0.01\%) \\
    $(n_{3},\sigma_{1},D_{4})$ & 0.00\% & (0\%, 0\%) & (0\%, 0\%, 0\%) & (0\%, 0\%, 0\%) \\
     $(n_{3},\sigma_{2},D_{1})$ & 3.44\% & (3.43\%, 3.44\%) & (0\%, 2.84\%, 3.44\%) & (3.44\%, 0.6\%, 0\%) \\
    $(n_{3},\sigma_{2},D_{2})$  & 0.52\% & (0.52\%, 0.53\%) & (0\%, 0.25\%, 0.53\%) & (0.52\%, 0.27\%, 0.01\%) \\
    $(n_{3},\sigma_{2},D_{3})$ & 0.04\% & (0.04\%, 0.04\%) & (0\%, 0.01\%, 0.04\%) & (0.04\%, 0.03\%, 0\%) \\
     $(n_{3},\sigma_{2},D_{4})$ & 0.00\% & (0\%, 0\%) & (0\%, 0\%, 0\%) & (0\%, 0\%, 0\%) \\
       $(n_{3},\sigma_{3},D_{1})$ & 3.96\% & (3.96\%, 3.97\%) & (0\%, 2.84\%, 3.97\%) & (3.96\%, 1.12\%, 0.01\%) \\
       $(n_{3},\sigma_{3},D_{2})$ & 0.83\% & (0.82\%, 0.83\%) & (0\%, 0.25\%, 0.82\%) & (0.83\%, 0.58\%, 0.01\%) \\
   $(n_{3},\sigma_{3},D_{3})$ & 0.11\% & (0.11\%, 0.11\%) & (0\%, 0.01\%, 0.1\%) & (0.11\%, 0.1\%, 0.01\%) \\
     $(n_{3},\sigma_{3},D_{4})$ & 0.01\% & (0.01\%, 0.01\%) & (0\%, 0\%, 0.01\%) & (0.01\%, 0.01\%, 0\%) \\
    \bottomrule
    \end{tabular}%
  \label{tab:lognormaldetail}%
\end{table}%

% Table generated by Excel2LaTeX from sheet 'Sheet30'
\begin{table}[htbp]
  \centering
  \caption{Detailed settings about standard deviation for each component design}
    \begin{tabular}{rrrrrrrrrr}
    \toprule
    \multicolumn{3}{c}{$\sigma$ level 1 ($\mu_{1}$ $c_{v1}$)}       &       &       &       &       &       &       &  \\
    \midrule
    0.35  & 0.30  & 0.37  & 0.41  & 0.40  & 0.38  & 0.38  & 0.36  & 0.38  & 0.40 \\
    0.30  & 0.24  & 0.37  & 0.41  & 0.35  & 0.30  & 0.38  & 0.22  & 0.35  & 0.35 \\
    \midrule
    \multicolumn{3}{c}{$\sigma$ level 2 ($\mu_{1}$ $c_{v2}$)}       &       &       &       &       &       &       &  \\
    \midrule
    0.80  & 0.68  & 0.84  & 0.93  & 0.91  & 0.87  & 0.87  & 0.82  & 0.87  & 0.91 \\
    0.70  & 0.56  & 0.86  & 0.95  & 0.81  & 0.70  & 0.88  & 0.51  & 0.81  & 0.81 \\
    \midrule
 \multicolumn{3}{c}{$\sigma$ level 3 ($\mu_{1}$ $c_{v3}$)}       &       &       &       &       &       &       &  \\
    \midrule
    1.64  & 1.41  & 1.74  & 1.92  & 1.88  & 1.78  & 1.78  & 1.69  & 1.78  & 1.88 \\
    1.44  & 1.15  & 1.77  & 1.96  & 1.68  & 1.44  & 1.82  & 1.05  & 1.68  & 1.68 \\
    \midrule
   \multicolumn{3}{c}{$\sigma$ level 4 ($\mu_{2}$ $c_{v1}$)}      &       &       &       &       &       &       &  \\
    \midrule
    0.35  & 0.37  & 0.30  & 0.41  & 0.40  & 0.38  & 0.36  & 0.38  & 0.38  & 0.40 \\
    0.21  & 0.17  & 0.26  & 0.28  & 0.24  & 0.21  & 0.26  & 0.15  & 0.24  & 0.24 \\
    \midrule
    \multicolumn{3}{c}{$\sigma$ level 5 ($\mu_{2}$ $c_{v2}$)}      &       &       &       &       &       &       &  \\
    \midrule
    0.80  & 0.84  & 0.68  & 0.93  & 0.91  & 0.87  & 0.82  & 0.87  & 0.87  & 0.91 \\
    0.51  & 0.41  & 0.63  & 0.70  & 0.60  & 0.51  & 0.65  & 0.38  & 0.60  & 0.60 \\
    \midrule
    \multicolumn{3}{c}{$\sigma$ level 6 ($\mu_{2}$ $c_{v3}$)}       &       &       &       &       &       &       &  \\
    \midrule
    1.64  & 1.74  & 1.41  & 1.92  & 1.88  & 1.78  & 1.69  & 1.78  & 1.78  & 1.88 \\
    1.07  & 0.86  & 1.32  & 1.47  & 1.25  & 1.07  & 1.36  & 0.79  & 1.25  & 1.25 \\
   \midrule
   \multicolumn{3}{c}{$\sigma$ level 7 ($\mu_{3}$ $c_{v1}$)}      &       &       &       &       &       &       &  \\
   \midrule
    0.35  & 0.37  & 0.30  & 0.41  & 0.40  & 0.38  & 0.36  & 0.38  & 0.38  & 0.40 \\
    0.11  & 0.09  & 0.14  & 0.15  & 0.13  & 0.11  & 0.14  & 0.08  & 0.13  & 0.13 \\
   \midrule
   \multicolumn{3}{c}{$\sigma$ level 8 ($\mu_{3}$ $c_{v2}$)}      &       &       &       &       &       &       &  \\
        \midrule
    0.80  & 0.84  & 0.68  & 0.93  & 0.91  & 0.87  & 0.82  & 0.87  & 0.87  & 0.91 \\
    0.33  & 0.27  & 0.41  & 0.46  & 0.39  & 0.33  & 0.42  & 0.24  & 0.39  & 0.39 \\
        \midrule
      \multicolumn{3}{c}{$\sigma$ level 9 ($\mu_{3}$ $c_{v3}$)}      &       &       &       &       &       &       &  \\
        \midrule
    1.64  & 1.74  & 1.41  & 1.92  & 1.88  & 1.78  & 1.69  & 1.78  & 1.78  & 1.88 \\
    0.71  & 0.57  & 0.88  & 0.97  & 0.83  & 0.71  & 0.90  & 0.52  & 0.83  & 0.83 \\
    \bottomrule
    \end{tabular}%
  \label{tab:addlabel}%
\end{table}%


% Table generated by Excel2LaTeX from sheet 'erlanguniformS100000'
%\end{table}%

% Table generated by Excel2LaTeX from sheet 'sigma0,35'
%\begin{table}[htbp]
%  \centering
%  \caption{Add caption}
%    \begin{tabular}{rrrrr}
%    \toprule
%          & avg\_sim & avg\_stocha & confidence interval & avg G \\
%    \midrule
%    $(n_{5},D_{01})$ & 15,86 & 14,14 & (15,86, 14,14) & 1,72\% \\
%    $(n_{5},D_{02})$ & 10,68 & 9,05  & (10,68, 9,05) & 1,63\% \\
%    $(n_{5},D_{03})$ & 7,09  & 5,69  & (7,09, 5,69) & 1,40\% \\
%    $(n_{5},D_{04})$ & 4,66  & 3,49  & (4,66, 3,49) & 1,17\% \\
%    $(n_{50},D_{01})$ & 4,88  & 3,98  & (4,88, 3,98) & 0,90\% \\
%    $(n_{50},D_{02})$ & 1,41  & 0,80  & (1,41, 0,80) & 0,61\% \\
%    $(n_{50},D_{03})$ & 0,31  & 0,09  & (0,31, 0,09) & 0,22\% \\
%    $(n_{50},D_{04})$ & 0,06  & 0,00  & (0,06, 0,00) & 0,06\% \\
%     $(n_{100},D_{01})$  & 3,48  & 2,84  & (3,48, 2,84) & 0,64\% \\
%    $(n_{100},D_{02})$ & 0,56  & 0,25  & (0,56, 0,25) & 0,31\% \\
%    $(n_{100},D_{03})$ & 0,05  & 0,01  & (0,05, 0,01) & 0,04\% \\
%    $(n_{100},D_{04})$ & 0,00  & 0,00  & (0,00, 0,00) & 0,00\% \\
%    \bottomrule
%    \end{tabular}%
%  \label{tab:addlabel}%
%\end{table}%

% Table generated by Excel2LaTeX from sheet 'erlanguniformS100000'
%\begin{table}[htbp]
%  \centering
%  \caption{Simulation and approximation results in the case of uniform distributed failure rates and mixed Erlang distribution}
% \begin{tabular}{lrrcrr}
%     \toprule
%         & \multicolumn{2}{c}{Lognormal distribution} & \multicolumn{2}{c}{Uniform distribution} \\
%          & \multicolumn{2}{c}{Gap} & \multicolumn{2}{c}{Gap} \\
%          & \multicolumn{1}{c}{$avg$ $G_{l}$} & \multicolumn{1}{c}{$max$ $G_{l}$} & \multicolumn{1}{c}{$avg$ $G_{n}$} & \multicolumn{1}{c}{$max$ $G_{n}$} \\
%     \midrule
%    $\Lambda$  & 0,0004 & 0,0029 & 0,0005 & 0,0082 \\
%     $\Lambda_{n_{5}}$ & 0,0010 & 0,0029 & 0,0012 & 0,0082 \\
%    $\Lambda_{n_{50}}$ & 0,0001 & 0,0009 & 0,0002 & 0,0021 \\
%    $\Lambda_{n_{100}}$ & 0,0000 & 0,0005 & 0,0001 & 0,0016 \\
%    $\Lambda_{\sigma_{0.2}}$ & 0,0004 & 0,0029 & 0,0004 & 0,0082 \\
%    $\Lambda_{\sigma_{0.35}}$ & 0,0004 & 0,0028 & 0,0005 & 0,0075 \\
%   $\Lambda_{\sigma_{0.5}}$ & 0,0003 & 0,0024 & 0,0006 & 0,0076 \\
%   $\Lambda_{D_{01}}$ & 0,0003 & 0,0029 & 0,0005 & 0,0082 \\
%   $\Lambda_{D_{02}}$ & 0,0002 & 0,0023 & 0,0003 & 0,0058 \\
%   $\Lambda_{D_{03}}$  & 0,0005 & 0,0025 & 0,0006 & 0,0043 \\
%    $\Lambda_{D_{04}}$  & 0,0006 & 0,0028 & 0,0007 & 0,0051 \\
%         \bottomrule
%     \end{tabular}%
%  \label{generalapptable}%
% \end{table}%
\newpage
\section{References}
%\bibliographystyle{model2-names}
\bibliographystyle{plainnat}
\bibliography{reference}


\end{document}  